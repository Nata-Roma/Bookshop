(()=>{"use strict";const t=function(){function t(t,e,o,n){void 0===e&&(e="div"),void 0===o&&(o=""),void 0===n&&(n="");var r=document.createElement(e);r.className=o,r.textContent=n,t&&t.append(r),this.node=r}return t.prototype.destroy=function(){this.node.remove()},t}();var e,o=(e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},e(t,o)},function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}),n=function(e){function n(o,n){var r=e.call(this,o,"div","checkout_finish")||this;r.onClose=function(){};var i=new t(r.node,"div","finish_message"),a="<div>Dear ".concat(n.output.name," ").concat(n.output.surname,".</div>\n        <div>The order has been created.</div>\n        <div>The delivery address is ").concat(n.output.house," ").concat(n.output.street," street, flat ").concat(n.output.flat,".</div>\n        <div>You can find the order information below.</div>\n        <div class='mb-10'></div>"),c="<div>Purchase:</div>",u=0;n.purchase.forEach((function(t,e){u+=t.price*t.qty,c+="\n            <div>".concat(e+1,". ").concat(t.title," by ").concat(t.author,".</div>\n            <div>Quantity: ").concat(t.qty,", price: ").concat(t.price,", total price: ").concat(t.price*t.qty,".</div>\n            <div class='mb-10'></div>")})),c+="\n            <div class='mb-10'></div>\n            <div>Gifts:</div>\n        ",n.gifts.forEach((function(t,e){c+="\n            <div>- ".concat(t,"</div>")})),a+=c+="\n            <div class='mb-10'></div>\n            <div>Total Price: ".concat(u,"</div>\n        "),i.node.innerHTML=a;var s=new t(r.node,"div","finish_controls");return new t(s.node,"button","book_control_item","Close").node.onclick=function(){r.onClose()},r}return o(n,e),n}(t),r=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(e){function o(o,n){var r=e.call(this,o,"div","checkbox_open mb-10")||this;return r.onChange=function(){},r.state=!1,r.inputData=n,r.input=new t(r.node,"input","mr-10"),new t(r.node,"label","",n.name).node.htmlFor=n.name,r.input.node.id=n.name,r.input.node.type=n.type,r.input.node.onchange=function(t){t.target.checked,r.onChange(r.inputData.name)},r}return r(o,e),o.prototype.changeChecked=function(t){this.input.node.checked=t,this.state=t},o.prototype.getInput=function(){return{btnName:this.inputData.name,state:this.state}},o}(t),a=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),c=function(e){function o(o,n){var r=e.call(this,o,"div","input_container")||this;r.btns=[],r.onChange=function(){},r.requestGiftData=function(){},r.inputData=n;var i=new t(r.node,"div","input_wrapper mb-10"),a=(new t(i.node,"div","label","Gifts:"),new t(i.node,"div","checkbox_open")),c=new t(a.node,"input","mr-10");return c.node.type="checkbox",c.node.id="openCheckbox",c.node.onchange=function(t){t.target.checked?r.createGiftChoices():r.destrotGiftChoices()},new t(a.node,"label","","Choose 2 gifts: (optional)").node.htmlFor="openCheckbox",r}return a(o,e),o.prototype.setGiftData=function(t){this.giftData=t},o.prototype.changeState=function(t){this.giftData.forEach((function(e){e.name===t&&(e.choice=!e.choice)})),this.onChange(this.giftData)},o.prototype.createGiftChoices=function(){var t=this;this.requestGiftData(),this.btns=this.inputData.map((function(e){var o=new i(t.node,e);return o.onChange=function(e){t.changeState(e)},o}))},o.prototype.destrotGiftChoices=function(){this.btns.forEach((function(t){return t.destroy()})),this.btns=[]},o}(t),u=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),s=function(e){function o(o,n){var r=e.call(this,o,"div","input_radio")||this;r.onChange=function(){},r.inputData=n;var i=new t(r.node,"label","",n.name);return i.node.htmlFor=n.name,r.input=new t(i.node,"input",""),r.input.node.id=n.name,r.input.node.type=n.type,n.checked&&(r.input.node.checked=n.checked),r.input.node.onchange=function(t){var e=t.target.checked;r.onChange(e,r.inputData.name)},r}return u(o,e),o.prototype.changeChecked=function(t){this.input.node.checked=t},o.prototype.getInputName=function(){return this.inputData.name},o}(t),p=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),d=function(e){function o(o,n){var r=e.call(this,o,"div","input_wrapper mb-10")||this;r.onChange=function(){},new t(r.node,"div","label","Payment:");var i=new t(r.node,"div","checkbox_open");return r.btns=n.map((function(t){var e=new s(i.node,t);return e.onChange=function(t,e){r.changeRadioState(t,e),r.onChange(t,e)},e})),r}return p(o,e),o.prototype.changeRadioState=function(t,e){this.btns.forEach((function(o){o.getInputName()!==e?o.changeChecked(!1):o.changeChecked(t)}))},o}(t),l=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),f=function(e){function o(o,n){var r=e.call(this,o,"div","input_container")||this;r.onChange=function(){};var i=new t(r.node,"div","input_wrapper"),a=(new t(i.node,"label","label","".concat(n.name,":")),new t(i.node,"input","input"));a.node.setAttribute("type",n.type),a.node.setAttribute("value",""),a.node.oninput=function(t){r.onChange(t.target.value)};var c=new t(r.node,"div","input_wrapper");return new t(c.node,"div","label"),r.error=new t(c.node,"div","input_error"),r}return l(o,e),o.prototype.setError=function(t){this.error.node.textContent=t},o}(t),h=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),y=function(e){function o(o,r,i,a){var u=e.call(this,o,"div","checkout_layout")||this;u.fields=[],u.finish=null,u.onFinish=function(){},u.form=a;var s=new t(u.node,"div","checkout_wrapper");new t(s.node,"div","order_title").node.textContent="Checkout";var p=new t(s.node,"div","order_contaner");u.form.formFields.forEach((function(t){var e=new f(p.node,t);e.onChange=function(o){a.changeOutput(t.name,o),e.setError(u.form.validate(t.name,o)),u.setDisabled()},u.fields.push(e)})),u.radioBlock=new d(p.node,a.formPayment),u.radioBlock.onChange=function(t,e){a.changeOutput("payment",e)},u.checkBoxBlock=new c(p.node,a.formGifts),u.checkBoxBlock.onChange=function(t){a.changeGiftOutput(t),u.setDisabled()},u.checkBoxBlock.requestGiftData=function(){u.getNewGiftOutput()},new t(s.node,"div","order_x","X").node.onclick=function(){u.destroyNode()},u.node.onclick=function(t){t.target===u.node&&u.destroyNode()};var l=new t(s.node,"div","checkout_controls");return u.confirmBtn=new t(l.node,"button","checkout_control_item disabled","Confirm"),u.confirmBtn.node.setAttribute("disabled","true"),u.confirmBtn.node.onclick=function(){u.finish=new n(s.node,a.getFinalOutput(r,i)),u.finish.onClose=function(){u.onFinish()}},new t(l.node,"button","checkout_control_item","Cancel").node.onclick=function(){u.destroyNode()},u}return h(o,e),o.prototype.show=function(){this.node.classList.add("checkout_show")},o.prototype.hide=function(){this.node.classList.remove("checkout_show")},o.prototype.destroyNode=function(){var t=this;this.hide(),this.node.ontransitionend=function(){t.finish&&t.finish.destroy(),t.destroy()}},o.prototype.setDisabled=function(){this.form.getErrorState()?(this.confirmBtn.node.setAttribute("disabled","true"),this.confirmBtn.node.classList.add("disabled")):(this.confirmBtn.node.removeAttribute("disabled"),this.confirmBtn.node.classList.remove("disabled"))},o.prototype.getNewGiftOutput=function(){this.checkBoxBlock.setGiftData(this.form.clearGiftOutput())},o}(t),v=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),w=function(e){function o(o){var n=e.call(this,o,"div","backet_wrapper")||this;return n.quantity=0,new t(n.node,"img","backet_img").node.setAttribute("src","data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjIuODggMTA3LjU0Ij48dGl0bGU+dHJvbGxleTwvdGl0bGU+PHBhdGggc3R5bGU9ImZpbGw6I2ZmMDAwMCIgZD0iTTMuOTMsNy44NkEzLjkzLDMuOTMsMCwwLDEsMy45MywwSDE0LjE1bC4zOSwwQTE4LjI4LDE4LjI4LDAsMCwxLDI0LjEsMi40OWExNC42OSwxNC42OSwwLDAsMSw2LjQxLDkuMWMuMzIsMS40MS42NiwyLjgyLDEsNC4yM0gxMTlhMy45MiwzLjkyLDAsMCwxLDMuOTMsMy45Miw0LDQsMCwwLDEtLjE5LDEuMjJMMTEyLjUyLDYyLjA4YTMuOTIsMy45MiwwLDAsMS0zLjgsM0g0NC42NmMxLjQ0LDUuMjEsMi43Niw4LDQuNyw5LjM0LDIuMjcsMS41Miw2LjMxLDEuNjMsMTMsMS41MmguMDd2MGg0NS4xN2EzLjkzLDMuOTMsMCwxLDEsMCw3Ljg2SDYyLjQ2djBjLTguMjcuMTUtMTMuMzgtLjA5LTE3LjQ2LTIuODRzLTYuMzYtNy41NS04LjU3LTE2LjNsLTEzLjUxLTUxYTcuMTksNy4xOSwwLDAsMC0zLTQuNDksMTAuOCwxMC44LDAsMCwwLTUuNTEtMS4zSDMuOTNaTTk2LDg4LjM0YTkuNiw5LjYsMCwxLDEtOS42LDkuNiw5LjYsOS42LDAsMCwxLDkuNi05LjZabS00Mi4xLDBhOS42LDkuNiwwLDEsMS05LjYsOS42LDkuNiw5LjYsMCwwLDEsOS42LTkuNlpNNzgsMjMuNjdWMzhoMzIuNDVsMy41My0xNC4yOFptMCwyMi4xNFY1Ny4yMmgyNy42OWwyLjgyLTExLjQxWk03MC4xMSw1Ny4yMlY0NS44MUgzOS42M3ExLjU3LDUuNywzLDExLjQxWm0wLTE5LjI3VjIzLjY3SDMzLjU0YzEuMjYsNC43NiwyLjU4LDkuNTIsMy45MSwxNC4yOFoiLz48L3N2Zz4="),n.quantityNode=new t(n.node,"div","basket_quantity","0"),n.node.onclick=function(){n.onClick()},n.node.ondragover=function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy",n.node.classList.add("backet_enter")},n.node.ondrop=function(t){t.preventDefault();var e=JSON.parse(t.dataTransfer.getData("id"));n.node.classList.remove("backet_enter"),n.addByDrag(e)},n.node.ondragleave=function(t){n.node.classList.remove("backet_enter")},n}return v(o,e),o.prototype.changeQuantity=function(t){this.quantity=t,this.quantityNode.node.textContent="".concat(this.quantity)},o}(t),g=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),m=function(e){function o(o){var n=e.call(this,o,"div","header_wrapper")||this;return n.showOrder=function(){},n.addToBasket=function(){},new t(n.node,"div","header_logo").node.textContent="BS",new t(n.node,"div","header_title").node.textContent="Book Shop",n.basket=new w(n.node),n.basket.onClick=function(){n.showOrder()},n.basket.addByDrag=function(t){n.addToBasket(t)},n}return g(o,e),o.prototype.changeQuantity=function(t){this.basket.changeQuantity(t)},o}(t),b=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_=function(e){function o(o,n){var r=e.call(this,o,"div","book_desc_wrapper")||this,i=new t(r.node,"div","text_wrapper");new t(i.node,"span","book_key").node.textContent="author:",new t(i.node,"span").node.textContent=n.author;var a=new t(r.node,"div","text_wrapper");new t(a.node,"span","book_key").node.textContent="title:",new t(a.node,"span","book_otder_title").node.textContent=n.title;var c=new t(r.node,"div","text_wrapper");return new t(c.node,"span","book_key").node.textContent="price:",new t(c.node,"span").node.textContent="".concat(n.price),r}return b(o,e),o}(t),k=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),O=function(e){function o(o){var n=e.call(this,o,"div","text_wrapper")||this;n.onDecrease=function(){},n.onIncrease=function(){},n.onRemove=function(){},new t(n.node,"span","book_key").node.textContent="qty:";var r=new t(n.node,"div","book_control"),i=new t(r.node,"div","order_control_qty");return new t(i.node,"button","btn_quantity","-").node.onclick=function(){n.onDecrease()},n.quantityNode=new t(i.node,"span","control_order_quantity","0"),new t(i.node,"button","btn_quantity mr-20","+").node.onclick=function(){n.onIncrease()},new t(r.node,"button","book_control_item","Remove").node.onclick=function(){n.onRemove()},n}return k(o,e),o.prototype.setQuantity=function(t){this.quantityNode.node.textContent="".concat(t)},o}(t),C=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),j=function(e){function o(o,n){var r=e.call(this,o,"div","book_wrapper")||this;r.quantity=0,r.onRemove=function(){},r.onChangeBook=function(){},r.bookData=n,r.bookImage=new t(r.node,"div","book_order_image","IMG"),r.bookImage.node.draggable=!0;var i=new t(r.node,"div","book_container");return r.bookDesc=new _(i.node,n),r.controls=new O(i.node),r.increaseBook(),r.controls.onDecrease=function(){r.decreaseBook()},r.controls.onIncrease=function(){r.increaseBook()},r.controls.onRemove=function(){r.onRemove(r.bookData.id)},r}return C(o,e),o.prototype.getId=function(){return this.bookData.id},o.prototype.decreaseBook=function(){this.quantity>1&&(this.quantity-=1,this.controls.setQuantity(this.quantity),this.onChangeBook())},o.prototype.increaseBook=function(){this.quantity+=1,this.controls.setQuantity(this.quantity),this.onChangeBook()},o.prototype.getQuantity=function(){return this.quantity},o.prototype.getPrice=function(){return this.bookData.price},o.prototype.clearData=function(){},o}(t),x=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),L=function(e){function o(o){var n=e.call(this,o,"div","order_layout")||this;n.orderBooks=[],n.onChangeBook=function(){},n.onConfirm=function(){};var r=new t(n.node,"div","order_wrapper");new t(r.node,"div","order_title").node.textContent="My Order",n.orderContainer=new t(r.node,"div","order_contaner"),new t(r.node,"div","order_x","X").node.onclick=function(){n.hide()},n.node.onclick=function(t){t.target===n.node&&n.hide()};var i=new t(r.node,"div","order_total_wrapper");return n.total=new t(i.node,"div","order_total","Total: $0"),n.confirm=new t(i.node,"button","book_control_item","Confirm"),n.confirm.node.onclick=function(){n.hide();var t=n.orderBooks.reduce((function(t,e){var o={id:e.getId(),qty:e.getQuantity()};return t.push(o),t}),[]);n.onConfirm(t)},n.addEmpty("Empty Basket"),n}return x(o,e),o.prototype.show=function(){this.node.classList.add("order_show")},o.prototype.hide=function(){this.node.classList.remove("order_show")},o.prototype.setTotal=function(){var t=this.orderBooks.reduce((function(t,e){return t+e.getQuantity()*e.getPrice()}),0);this.total.node.textContent="Total: $".concat(t)},o.prototype.addBook=function(t){var e=this;this.removeEmpty();var o=this.orderBooks.find((function(e){return e.getId()===t.id}));if(o)o.increaseBook();else{var n=new j(this.orderContainer.node,t);n.onChangeBook=function(){e.onChangeBook(e.getBookQuantity()),e.setTotal()},n.onRemove=function(t){e.removeBook(t),e.setTotal(),e.onChangeBook(e.getBookQuantity())},this.orderBooks.push(n),this.setTotal(),this.onChangeBook(this.getBookQuantity())}},o.prototype.addEmpty=function(e){this.empty=new t(this.orderContainer.node,"div","order_empty"),this.empty.node.textContent=e,this.total.node.textContent="Total: $0",this.confirm.node.classList.add("disabled"),this.confirm.node.disabled=!0},o.prototype.removeEmpty=function(){this.empty.destroy(),this.confirm.node.classList.remove("disabled"),this.confirm.node.disabled=!1},o.prototype.removeBook=function(t){var e=this.orderBooks.find((function(e){return e.getId()===t}));e&&e.destroy(),this.orderBooks=this.orderBooks.filter((function(e){return e.getId()!==t})),this.orderBooks.length||this.addEmpty("Empty Basket")},o.prototype.getBookQuantity=function(){return this.orderBooks.reduce((function(t,e){return t+e.getQuantity()}),0)},o.prototype.clearData=function(){this.orderBooks.forEach((function(t){t.destroy()})),this.orderBooks=[],this.total.node.textContent="",this.addEmpty("Empty Basket")},o}(t),D=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),M=function(e){function o(o,n){var r=e.call(this,o,"div","desc_wrapper")||this;return r.onClose=function(){},new t(r.node,"div","desc_text mb-20",n),new t(r.node,"button","book_control_item ml-auto","Close").node.onclick=function(t){t.preventDefault(),t.stopPropagation(),r.onClose()},r}return D(o,e),o}(t),S=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),T=function(e){function o(o,n){var r=e.call(this,o,"div","text_wrapper")||this;r.chooseBook=function(){},new t(r.node,"span","book_key");var i=new t(r.node,"div","book_control");return r.showDesc=new t(i.node,"button","book_control_item","Description"),r.showDesc.node.onclick=function(){r.createDesc(n.description)},new t(i.node,"button","book_control_item","Add to basket").node.onclick=function(){r.chooseBook(n.id)},r}return S(o,e),o.prototype.createDesc=function(t){var e=new M(this.showDesc.node,t);e.onClose=function(){e.destroy()}},o}(t),B=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),E=function(e){function o(o,n){var r=e.call(this,o,"div","book_desc_wrapper")||this,i=new t(r.node,"div","text_wrapper");new t(i.node,"span","book_key").node.textContent="author:",new t(i.node,"span").node.textContent=n.author;var a=new t(r.node,"div","text_wrapper");new t(a.node,"span","book_key").node.textContent="title:",new t(a.node,"span","book_title").node.textContent=n.title;var c=new t(r.node,"div","text_wrapper");return new t(c.node,"span","book_key").node.textContent="price:",new t(c.node,"span").node.textContent="".concat(n.price),r}return B(o,e),o}(t),N=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),P=function(e){function o(o,n){var r=e.call(this,o,"div","book_wrapper")||this;r.bookData=n,r.bookImage=new t(r.node,"div","book_image","IMG"),r.bookImage.node.draggable=!0;var i=new t(r.node,"div","book_container");return r.bookDesc=new E(i.node,n),new T(i.node,n).chooseBook=function(t){r.chooseBook(t)},r.bookImage.node.ondragstart=function(t){t.dataTransfer.setData("id",JSON.stringify(r.bookData.id)),t.dataTransfer.effectAllowed="copy"},r.bookImage.node.ondragenter=function(t){r.bookImage.node.classList.add("book_drag_enter")},r.bookImage.node.ondragleave=function(t){r.bookImage.node.classList.remove("book_drag_enter")},r}return N(o,e),o.prototype.getId=function(){return this.bookData.id},o}(t),A=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),I=function(t){function e(e,o){var n=t.call(this,e,"div","catalog_wrapper")||this;return n.catalog=o.map((function(t){var e=new P(n.node,t);return e.chooseBook=function(t){n.chooseBook(t)},e})),n}return A(e,t),e.prototype.removeBook=function(t){this.catalog.find((function(e){return e.getId()===t})).destroy(),this.catalog=this.catalog.filter((function(e){return e.getId()!==t}))},e}(t);const G=JSON.parse('[{"id":1,"author":"Douglas Crockford","imageLink":"add image to your project,put link to it there","title":"JavaScript: The Good Parts: The Good Parts","price":30,"description":"With JavaScript: The Good Parts, you\'ll discover a beautiful, elegant, lightweight and highly expressive language that lets you create effective code, whether you\'re managing object libraries or just trying to get Ajax to run fast. If you develop sites or applications for the Web, this book is an absolute must"},{"id":2,"author":"David Herman","imageLink":"add image to your project,put link to it there","title":"Effective JavaScript: 68 Specific Ways to Harness the Power of JavaScript","price":22,"description":"Effective JavaScript is organized around 68 proven approaches for writing better JavaScript, backed by concrete examples. You’ll learn how to choose the right programming style for each project, manage unanticipated problems, and work more successfully with every facet of JavaScript programming from data structures to concurrency"},{"id":3,"author":"David Flanagan","imageLink":"add image to your project,put link to it there","title":"JavaScript: The Definitive Guide","price":40,"description":"This Fifth Edition is completely revised and expanded to cover JavaScript as it is used in today\'s Web 2.0 applications. This book is both an example-driven programmer\'s guide and a keep-on-your-desk reference, with new chapters that explain everything you need to know to get the most out of JavaScript"},{"id":4,"author":" Eric Elliott","imageLink":"add image to your project,put link to it there","title":"Programming JavaScript Applications","price":19,"description":"Take advantage of JavaScript’s power to build robust web-scale or enterprise applications that are easy to extend and maintain. By applying the design patterns outlined in this practical book, experienced JavaScript developers will learn how to write flexible and resilient code that’s easier—yes, easier—to work with as your code base grows."},{"id":5,"author":"Addy Osmani","imageLink":"add image to your project,put link to it there","title":"Learning JavaScript Design Patterns","price":32,"description":"With Learning JavaScript Design Patterns, you’ll learn how to write beautiful, structured, and maintainable JavaScript by applying classical and modern design patterns to the language. If you want to keep your code efficient, more manageable, and up-to-date with the latest best practices, this book is for you."},{"id":6,"author":"Boris Cherny","imageLink":"add image to your project,put link to it there","title":"Programming TypeScript","price":28,"description":"Any programmer working with a dynamically typed language will tell you how hard it is to scale to more lines of code and more engineers. That’s why Facebook, Google, and Microsoft invented gradual static type layers for their dynamically typed JavaScript and Python code. This practical book shows you how one such type layer, TypeScript, is unique among them: it makes programming fun with its powerful static type system."},{"id":7,"author":"Alex Banks, Eve Porcello","imageLink":"add image to your project,put link to it there","title":"Learning React, 2nd Edition","price":25,"description":"If you want to learn how to build efficient React applications, this is your book. Ideal for web developers and software engineers who understand how JavaScript, CSS, and HTML work in the browser, this updated edition provides best practices and patterns for writing modern React code. No prior knowledge of React or functional JavaScript is necessary."},{"id":8,"author":"Bradley Meck Alex Young and Mike Cantelon","imageLink":"add image to your project,put link to it there","title":"Node.js in Action","price":38,"description":"Node.js in Action, Second Edition is a thoroughly revised book based on the best-selling first edition. It starts at square one and guides you through all the features, techniques, and concepts you\'ll need to build production-quality Node applications."},{"id":9,"author":"Kyle Simpson","imageLink":"add image to your project,put link to it there","title":"You Don\'t Know JS Yet: Get Started","price":26,"description":"It seems like there\'s never been as much widespread desire before for a better way to deeply learn the fundamentals of JavaScript. But with a million blogs, books, and videos out there, just where do you START? Look no further!"},{"id":10,"author":"John Resig and Bear Bibeault","imageLink":"add image to your project,put link to it there","title":"Secrets of the JavaScript Ninja","price":33,"description":"Secrets of the Javascript Ninja takes you on a journey towards mastering modern JavaScript development in three phases: design, construction, and maintenance. Written for JavaScript developers with intermediate-level skills, this book will give you the knowledge you need to create a cross-browser JavaScript library from the ground up."}]');var J=function(){return J=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},J.apply(this,arguments)},q=function(t,e,o){if(o||2===arguments.length)for(var n,r=0,i=e.length;r<i;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},z=function(){function t(t,e,o,n){this.giftOutput=[],this.formFields=t,this.errors=e,this.formPayment=o,this.formGifts=n,this.output={name:"",surname:"",delivery:"",street:"",house:"",flat:"",payment:o[0].name}}return t.prototype.clearGiftOutput=function(){return this.giftOutput=this.createGiftOutput(this.formGifts),console.log(this.giftOutput),this.giftOutput},t.prototype.createGiftOutput=function(t){return t.map((function(t){return{name:t.name,choice:!1}}))},t.prototype.getFormFields=function(){return this.formFields},t.prototype.validate=function(t,e){var o=this.errors.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}));if(o){if("delivery"!==o.name.toLowerCase())return e.match(o.regex)?"":"The field is invalid";var n=o.check(),r=new Date(e).getDate();return Number.isNaN(r)||r<n?"The field is invalid":""}},t.prototype.validateGift=function(){return this.giftOutput.filter((function(t){return!0===t.choice})).length>2?"The field is invalid":""},t.prototype.changeOutput=function(t,e){var o;this.output=J(J({},this.output),((o={})[t.toLowerCase()]=e,o))},t.prototype.changeGiftOutput=function(t){this.giftOutput=t.map((function(t){return J({},t)}))},t.prototype.getErrorState=function(){for(var t=!1,e=Object.keys(this.output),o=0;o<e.length;o++){var n=""!==this.validate(e[o],this.output[e[o]]);if(n){t=n;break}}var r=""!==this.validateGift();return!(!t&&!r)},t.prototype.getFinalOutput=function(t,e){var o=this,n=t.reduce((function(t,n){var r=e.find((function(t){return t.id===n.id})),i={id:r.id,author:r.author,title:r.title,price:r.price,qty:n.qty,payment:o.output.payment};return t.push(i),t}),[]),r=this.giftOutput.reduce((function(t,e){return e.choice&&t.push(e.name),t}),[]);return{purchase:q([],n,!0),gifts:r,output:J({},this.output)}},t}(),Q=[{name:"Name",type:"text"},{name:"Surname",type:"text"},{name:"Delivery",type:"date"},{name:"Street",type:"text"},{name:"House",type:"text"},{name:"Flat",type:"text"}],Y=[{name:"Cash",type:"radio",checked:!0},{name:"Card",type:"radio",checked:!1}],F=[{name:"Pack as a gift",type:"checkbox",id:"pack"},{name:"Add postcard",type:"checkbox",id:"postcard"},{name:"Provide 2% discount to the next time",type:"checkbox",id:"discount"},{name:"Branded pen or pencil",type:"checkbox",id:"pen"}],R=[{name:"Name",length:4,inputType:"string",regex:/^[A-Za-z]{4,30}$/g},{name:"Surname",length:5,inputType:"string",regex:/^[A-Za-z]{5,30}$/g},{name:"Delivery",length:1,inputType:"string",regex:/\d/,check:function(){return(new Date).getDate()+1}},{name:"Street",length:5,inputType:"string",regex:/^[A-Za-z0-9]{5,30}$/g},{name:"House",length:null,inputType:"number",regex:/^\d+$/g},{name:"Flat",length:1,inputType:"string",regex:/^[0-9-\-]{1,}$/g},{name:"Payment",length:null,inputType:"string",regex:/^([Cash]+|[Card]+)$/}],U=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();new(function(e){function o(o,n){var r=e.call(this,o,"div","main_page")||this;return r.header=new m(r.node),r.header.showOrder=function(){r.showOrder()},r.header.addToBasket=function(t){r.addToBasket(t)},new t(r.node,"hr"),r.getCatalog(n),r.entryData=n,r}return U(o,e),o.prototype.getCatalog=function(t){return e=this,o=void 0,r=function(){var e=this;return function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(o){return this.catalog=new I(this.node,t),this.catalog.chooseBook=function(t){e.addToBasket(t)},this.order=new L(this.node),this.order.onChangeBook=function(t){e.header.changeQuantity(t)},this.order.onConfirm=function(o){var n=new y(e.node,o,t,new z(Q,R,Y,F));e.order.node.ontransitionend=function(){n.show()},n.onFinish=function(){e.order.clearData(),e.header.changeQuantity(0),n.destroyNode()}},[2]}))},new((n=void 0)||(n=Promise))((function(t,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function c(t){try{u(r.throw(t))}catch(t){i(t)}}function u(e){var o;e.done?t(e.value):(o=e.value,o instanceof n?o:new n((function(t){t(o)}))).then(a,c)}u((r=r.apply(e,o||[])).next())}));var e,o,n,r},o.prototype.showOrder=function(){this.order.show()},o.prototype.addToBasket=function(t){var e=this.entryData.find((function(e){return e.id===t}));e&&this.order.addBook(e)},o}(t))(document.body,G)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBUSxJQUFJNE0sRUFBTTFOLEtBQUtDLE1BQzVCRCxLQUFLYyxNQUFNd0gsYUFBZSxTQUFDWixHQUN2QixFQUFLMkYsT0FBTzVGLGVBQWVDLElBRS9CMUgsS0FBS2MsTUFBTXVJLFVBQVksU0FBQ3ZJLEdBQ3BCLElBQU02TSxFQUFXLElBQUlDLEVBQVMsRUFBSzNOLEtBQU1hLEVBQU9WLEVBQU0sSUFBSXlOLEVBQUs1SSxFQUFZNEcsRUFBUW5HLEVBQWFHLElBQ2hHLEVBQUsvRSxNQUFNYixLQUFLdUcsZ0JBQWtCLFdBQzlCbUgsRUFBU3ZILFFBRWJ1SCxFQUFTN0ksU0FBVyxXQUNoQixFQUFLaEUsTUFBTXFJLFlBQ1gsRUFBS2tFLE9BQU81RixlQUFlLEdBQzNCa0csRUFBUzNILGdCLHdTQUtyQixZQUFBMkIsVUFBQSxXQUNJM0gsS0FBS2MsTUFBTXNGLFFBR2YsWUFBQXdCLFlBQUEsU0FBWTFGLEdBQ1IsSUFBTWdJLEVBQVFsSyxLQUFLd04sVUFBVXJELE1BQUssU0FBQ04sR0FBUyxPQUFBQSxFQUFLM0gsS0FBT0EsS0FDcERnSSxHQUNBbEssS0FBS2MsTUFBTWtKLFFBQVFFLElBRy9CLEVBMURBLENBQWtCLEdBNERsQixDQUFRdEssU0FBU2tPLEtBQU0sSSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9jb250cm9sLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9jaGVja291dC9jaGVja291dEZpbmlzaC50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvY2hlY2tvdXQvaW5wdXRDaGVja2JveC50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvY2hlY2tvdXQvY2hlY2tib3hCbG9jay50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvY2hlY2tvdXQvaW5wdXRSYWRpby50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvY2hlY2tvdXQvcmFkaW9CbG9jay50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvY2hlY2tvdXQvaW5wdXRCbG9jay50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvY2hlY2tvdXQvY2hlY2tvdXQudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL2Jhc2tldC9iYXNrZXQudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL2hlYWRlci50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvYmFza2V0L2Jvb2tEZXNjLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9iYXNrZXQvYm9va0NvbnRyb2wudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL2Jhc2tldC9vcmRlckJvb2sudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL2Jhc2tldC9vcmRlci50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvY2F0YWxvZy9kZXNjcmlwdGlvbi50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvY2F0YWxvZy9ib29rQ29udHJvbC50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvY2F0YWxvZy9ib29rRGVzYy50cyIsIndlYnBhY2s6Ly9teS13ZWJwYWNrLXByb2plY3QvLi9zcmMvY2F0YWxvZy9ib29rLnRzIiwid2VicGFjazovL215LXdlYnBhY2stcHJvamVjdC8uL3NyYy9jYXRhbG9nL2NhdGFsb2cudHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL3V0aWxzL2Zvcm0udHMiLCJ3ZWJwYWNrOi8vbXktd2VicGFjay1wcm9qZWN0Ly4vc3JjL2FwcC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBDb250cm9sPE5vZGVUeXBlIGV4dGVuZHMgSFRNTEVsZW1lbnQgPSBIVE1MRWxlbWVudD57XG4gICAgcHVibGljIG5vZGU6IE5vZGVUeXBlO1xuICBcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnROb2RlOiBIVE1MRWxlbWVudCB8IG51bGwsIHRhZ05hbWUgPSAnZGl2JywgY2xhc3NOYW1lID0gJycsIGNvbnRlbnQgPSAnJykge1xuICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgICAgZWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgZWwudGV4dENvbnRlbnQgPSBjb250ZW50O1xuICAgICAgaWYgKHBhcmVudE5vZGUpIHtcbiAgICAgICAgcGFyZW50Tm9kZS5hcHBlbmQoZWwpO1xuICAgICAgfVxuICAgICAgdGhpcy5ub2RlID0gZWwgYXMgTm9kZVR5cGU7XG4gICAgfVxuICBcbiAgICBkZXN0cm95KCk6IHZvaWQge1xuICAgICAgdGhpcy5ub2RlLnJlbW92ZSgpO1xuICAgIH1cbiAgICBcbiAgfVxuICBcbiAgZXhwb3J0IGRlZmF1bHQgQ29udHJvbDsiLCJpbXBvcnQgQ29udHJvbCBmcm9tICcuLi9jb250cm9sJztcbmltcG9ydCB7IElGaW5hbE9yZGVyIH0gZnJvbSAnLi4vdXRpbHMvaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBDaGVja291dEZpbmlzaCBleHRlbmRzIENvbnRyb2wge1xuICAgIHB1YmxpYyBvbkNsb3NlOiAoKSA9PiB2b2lkID0gKCkgPT4ge307XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnROb2RlOiBIVE1MRWxlbWVudCwgZGF0YTogSUZpbmFsT3JkZXIpIHtcbiAgICAgICAgc3VwZXIocGFyZW50Tm9kZSwgJ2RpdicsICdjaGVja291dF9maW5pc2gnKTtcblxuICAgICAgICBjb25zdCBmaW5hbE1lc3NhZ2UgPSBuZXcgQ29udHJvbCh0aGlzLm5vZGUsICdkaXYnLCAnZmluaXNoX21lc3NhZ2UnKTtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBgPGRpdj5EZWFyICR7ZGF0YS5vdXRwdXQubmFtZX0gJHtkYXRhLm91dHB1dC5zdXJuYW1lfS48L2Rpdj5cbiAgICAgICAgPGRpdj5UaGUgb3JkZXIgaGFzIGJlZW4gY3JlYXRlZC48L2Rpdj5cbiAgICAgICAgPGRpdj5UaGUgZGVsaXZlcnkgYWRkcmVzcyBpcyAke2RhdGEub3V0cHV0LmhvdXNlfSAke2RhdGEub3V0cHV0LnN0cmVldH0gc3RyZWV0LCBmbGF0ICR7ZGF0YS5vdXRwdXQuZmxhdH0uPC9kaXY+XG4gICAgICAgIDxkaXY+WW91IGNhbiBmaW5kIHRoZSBvcmRlciBpbmZvcm1hdGlvbiBiZWxvdy48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0nbWItMTAnPjwvZGl2PmA7XG4gICAgICAgIGxldCBvcmRlciA9ICc8ZGl2PlB1cmNoYXNlOjwvZGl2Pic7XG4gICAgICAgIGxldCB0b3RhbFByaWNlID0gMDtcbiAgICAgICAgZGF0YS5wdXJjaGFzZS5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICB0b3RhbFByaWNlICs9IGl0ZW0ucHJpY2UgKiBpdGVtLnF0eTtcblxuICAgICAgICAgICAgb3JkZXIgKz0gYFxuICAgICAgICAgICAgPGRpdj4ke2kgKyAxfS4gJHtpdGVtLnRpdGxlfSBieSAke2l0ZW0uYXV0aG9yfS48L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+UXVhbnRpdHk6ICR7aXRlbS5xdHl9LCBwcmljZTogJHtpdGVtLnByaWNlfSwgdG90YWwgcHJpY2U6ICR7XG4gICAgICAgICAgICAgICAgaXRlbS5wcmljZSAqIGl0ZW0ucXR5XG4gICAgICAgICAgICB9LjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0nbWItMTAnPjwvZGl2PmA7XG4gICAgICAgIH0pO1xuICAgICAgICBvcmRlciArPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSdtYi0xMCc+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2PkdpZnRzOjwvZGl2PlxuICAgICAgICBgO1xuXG4gICAgICAgIGRhdGEuZ2lmdHMuZm9yRWFjaCgoZ2lmdCwgaSkgPT4ge1xuICAgICAgICAgICAgb3JkZXIgKz0gYFxuICAgICAgICAgICAgPGRpdj4tICR7Z2lmdH08L2Rpdj5gO1xuICAgICAgICB9KTtcblxuICAgICAgICBvcmRlciArPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSdtYi0xMCc+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlRvdGFsIFByaWNlOiAke3RvdGFsUHJpY2V9PC9kaXY+XG4gICAgICAgIGA7XG5cbiAgICAgICAgbWVzc2FnZSArPSBvcmRlcjtcblxuICAgICAgICBmaW5hbE1lc3NhZ2Uubm9kZS5pbm5lckhUTUwgPSBtZXNzYWdlO1xuXG4gICAgICAgIGNvbnN0IGNvbnRyb2xzID0gbmV3IENvbnRyb2wodGhpcy5ub2RlLCAnZGl2JywgJ2ZpbmlzaF9jb250cm9scycpO1xuXG4gICAgICAgIGNvbnN0IGNvbmZpcm1CdG4gPSBuZXcgQ29udHJvbChjb250cm9scy5ub2RlLCAnYnV0dG9uJywgJ2Jvb2tfY29udHJvbF9pdGVtJywgJ0Nsb3NlJyk7XG4gICAgICAgIGNvbmZpcm1CdG4ubm9kZS5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkNsb3NlKCk7XG4gICAgICAgIH07XG4gICAgfVxufVxuIiwiaW1wb3J0IENvbnRyb2wgZnJvbSAnLi4vY29udHJvbCc7XG5pbXBvcnQgeyBJRm9ybUdpZnRzIH0gZnJvbSAnLi8uLi91dGlscy9pbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIElucHV0Q2hlY2tib3ggZXh0ZW5kcyBDb250cm9sIHtcbiAgICBwcml2YXRlIGlucHV0RGF0YTogSUZvcm1HaWZ0cztcbiAgICBwcml2YXRlIGlucHV0OiBDb250cm9sPEhUTUxJbnB1dEVsZW1lbnQ+O1xuICAgIHB1YmxpYyBvbkNoYW5nZTogKG5hbWU6IHN0cmluZykgPT4gdm9pZCA9ICgpID0+IHt9O1xuICAgIHByaXZhdGUgc3RhdGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmVudE5vZGU6IEhUTUxFbGVtZW50LCBkYXRhOiBJRm9ybUdpZnRzKSB7XG4gICAgICAgIHN1cGVyKHBhcmVudE5vZGUsICdkaXYnLCAnY2hlY2tib3hfb3BlbiBtYi0xMCcpO1xuICAgICAgICB0aGlzLmlucHV0RGF0YSA9IGRhdGE7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmlucHV0ID0gbmV3IENvbnRyb2w8SFRNTElucHV0RWxlbWVudD4odGhpcy5ub2RlLCAnaW5wdXQnLCAnbXItMTAnKTtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBuZXcgQ29udHJvbDxIVE1MTGFiZWxFbGVtZW50Pih0aGlzLm5vZGUsICdsYWJlbCcsICcnLCBkYXRhLm5hbWUpO1xuICAgICAgICBsYWJlbC5ub2RlLmh0bWxGb3IgPSBkYXRhLm5hbWU7XG4gICAgICAgIHRoaXMuaW5wdXQubm9kZS5pZCA9IGRhdGEubmFtZTtcbiAgICAgICAgdGhpcy5pbnB1dC5ub2RlLnR5cGUgPSBkYXRhLnR5cGU7XG4gICAgICAgIHRoaXMuaW5wdXQubm9kZS5vbmNoYW5nZSA9IChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQ7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKHRoaXMuaW5wdXREYXRhLm5hbWUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNoYW5nZUNoZWNrZWQoc3RhdGU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5pbnB1dC5ub2RlLmNoZWNrZWQgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIH1cblxuICAgIGdldElucHV0KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYnRuTmFtZTogdGhpcy5pbnB1dERhdGEubmFtZSxcbiAgICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgICB9O1xuICAgIH1cbn1cbiIsImltcG9ydCBDb250cm9sIGZyb20gJy4uL2NvbnRyb2wnO1xuaW1wb3J0IHsgSUZvcm1HaWZ0cywgSUdpZnRPdXRwdXQgfSBmcm9tICcuLi91dGlscy9pbnRlcmZhY2VzJztcbmltcG9ydCB7IElucHV0Q2hlY2tib3ggfSBmcm9tICcuL2lucHV0Q2hlY2tib3gnO1xuXG5leHBvcnQgY2xhc3MgQ2hlY2tib3hCbG9jayBleHRlbmRzIENvbnRyb2wge1xuICAgIGJ0bnM6IEFycmF5PElucHV0Q2hlY2tib3g+ID0gW107XG4gICAgcHJpdmF0ZSBnaWZ0RGF0YTogQXJyYXk8SUdpZnRPdXRwdXQ+O1xuICAgIHByaXZhdGUgaW5wdXREYXRhOiBBcnJheTxJRm9ybUdpZnRzPjtcbiAgICBwdWJsaWMgb25DaGFuZ2U6IChnaWZ0RGF0YTogQXJyYXk8SUdpZnRPdXRwdXQ+KSA9PiB2b2lkID0gKCkgPT4ge307XG4gICAgcHVibGljIHJlcXVlc3RHaWZ0RGF0YTogKCkgPT4gdm9pZCA9ICgpID0+IHt9O1xuXG4gICAgY29uc3RydWN0b3IocGFyZW50Tm9kZTogSFRNTEVsZW1lbnQsIGRhdGE6IEFycmF5PElGb3JtR2lmdHM+KSB7XG4gICAgICAgIHN1cGVyKHBhcmVudE5vZGUsICdkaXYnLCAnaW5wdXRfY29udGFpbmVyJyk7XG4gICAgICAgIHRoaXMuaW5wdXREYXRhID0gZGF0YTtcbiAgICAgICAgY29uc3QgdGl0bGVCbG9jayA9IG5ldyBDb250cm9sKHRoaXMubm9kZSwgJ2RpdicsICdpbnB1dF93cmFwcGVyIG1iLTEwJyk7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gbmV3IENvbnRyb2wodGl0bGVCbG9jay5ub2RlLCAnZGl2JywgJ2xhYmVsJywgJ0dpZnRzOicpO1xuICAgICAgICBjb25zdCBvcGVuR2lmdHMgPSBuZXcgQ29udHJvbCh0aXRsZUJsb2NrLm5vZGUsICdkaXYnLCAnY2hlY2tib3hfb3BlbicpO1xuICAgICAgICBjb25zdCBvcGVuQ2hlY2tib3ggPSBuZXcgQ29udHJvbDxIVE1MSW5wdXRFbGVtZW50PihvcGVuR2lmdHMubm9kZSwgJ2lucHV0JywgJ21yLTEwJyk7XG4gICAgICAgIG9wZW5DaGVja2JveC5ub2RlLnR5cGUgPSAnY2hlY2tib3gnO1xuICAgICAgICBvcGVuQ2hlY2tib3gubm9kZS5pZCA9ICdvcGVuQ2hlY2tib3gnO1xuICAgICAgICBvcGVuQ2hlY2tib3gubm9kZS5vbmNoYW5nZSA9IChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGVja2VkID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQ7XG4gICAgICAgICAgICBpZiAoY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlR2lmdENob2ljZXMoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm90R2lmdENob2ljZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb3BlbkxhYmVsID0gbmV3IENvbnRyb2w8SFRNTExhYmVsRWxlbWVudD4oXG4gICAgICAgICAgICBvcGVuR2lmdHMubm9kZSxcbiAgICAgICAgICAgICdsYWJlbCcsXG4gICAgICAgICAgICAnJyxcbiAgICAgICAgICAgICdDaG9vc2UgMiBnaWZ0czogKG9wdGlvbmFsKScsXG4gICAgICAgICk7XG4gICAgICAgIG9wZW5MYWJlbC5ub2RlLmh0bWxGb3IgPSAnb3BlbkNoZWNrYm94JztcbiAgICB9XG5cbiAgICBzZXRHaWZ0RGF0YShnaWZ0RGF0YTogQXJyYXk8SUdpZnRPdXRwdXQ+KSB7XG4gICAgICAgIHRoaXMuZ2lmdERhdGEgPSBnaWZ0RGF0YTtcbiAgICB9XG5cbiAgICBjaGFuZ2VTdGF0ZShuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5naWZ0RGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5jaG9pY2UgPSAhaXRlbS5jaG9pY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMub25DaGFuZ2UodGhpcy5naWZ0RGF0YSk7XG4gICAgfVxuXG4gICAgY3JlYXRlR2lmdENob2ljZXMoKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdEdpZnREYXRhKCk7XG4gICAgICAgIHRoaXMuYnRucyA9IHRoaXMuaW5wdXREYXRhLm1hcCgoY2hlY2spID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJsb2NrID0gbmV3IElucHV0Q2hlY2tib3godGhpcy5ub2RlLCBjaGVjayk7XG4gICAgICAgICAgICBibG9jay5vbkNoYW5nZSA9IChuYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKG5hbWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBibG9jaztcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGVzdHJvdEdpZnRDaG9pY2VzKCkge1xuICAgICAgICB0aGlzLmJ0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uZGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5idG5zID0gW107XG4gICAgfVxufVxuIiwiaW1wb3J0IENvbnRyb2wgZnJvbSAnLi4vY29udHJvbCc7XG5pbXBvcnQgeyBJRm9ybVBheW1lbnQgfSBmcm9tICcuLi91dGlscy9pbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIElucHV0UmFkaW8gZXh0ZW5kcyBDb250cm9sIHtcbiAgICBwcml2YXRlIGlucHV0RGF0YTogSUZvcm1QYXltZW50O1xuICAgIHByaXZhdGUgaW5wdXQ6IENvbnRyb2w8SFRNTElucHV0RWxlbWVudD47XG4gICAgcHVibGljIG9uQ2hhbmdlOiAoc3RhdGU6IGJvb2xlYW4sIG5hbWU6IHN0cmluZykgPT4gdm9pZCA9ICgpID0+IHt9O1xuXG4gICAgY29uc3RydWN0b3IocGFyZW50Tm9kZTogSFRNTEVsZW1lbnQsIGRhdGE6IElGb3JtUGF5bWVudCkge1xuICAgICAgICBzdXBlcihwYXJlbnROb2RlLCAnZGl2JywgJ2lucHV0X3JhZGlvJyk7XG4gICAgICAgIHRoaXMuaW5wdXREYXRhID0gZGF0YTtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBuZXcgQ29udHJvbDxIVE1MTGFiZWxFbGVtZW50Pih0aGlzLm5vZGUsICdsYWJlbCcsICcnLCBkYXRhLm5hbWUpO1xuICAgICAgICBsYWJlbC5ub2RlLmh0bWxGb3IgPSBkYXRhLm5hbWU7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBuZXcgQ29udHJvbDxIVE1MSW5wdXRFbGVtZW50PihsYWJlbC5ub2RlLCAnaW5wdXQnLCAnJyk7XG4gICAgICAgIHRoaXMuaW5wdXQubm9kZS5pZCA9IGRhdGEubmFtZTtcbiAgICAgICAgdGhpcy5pbnB1dC5ub2RlLnR5cGUgPSBkYXRhLnR5cGU7XG4gICAgICAgIGRhdGEuY2hlY2tlZCAmJiAodGhpcy5pbnB1dC5ub2RlLmNoZWNrZWQgPSBkYXRhLmNoZWNrZWQpO1xuICAgICAgICB0aGlzLmlucHV0Lm5vZGUub25jaGFuZ2UgPSAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkO1xuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZShjdXJyZW50LCB0aGlzLmlucHV0RGF0YS5uYW1lKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjaGFuZ2VDaGVja2VkKHN0YXRlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuaW5wdXQubm9kZS5jaGVja2VkID0gc3RhdGU7XG4gICAgfVxuXG4gICAgZ2V0SW5wdXROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnB1dERhdGEubmFtZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBJRm9ybVBheW1lbnQgfSBmcm9tICcuLy4uL3V0aWxzL2ludGVyZmFjZXMnO1xuaW1wb3J0IENvbnRyb2wgZnJvbSAnLi4vY29udHJvbCc7XG5pbXBvcnQgeyBJbnB1dFJhZGlvIH0gZnJvbSAnLi9pbnB1dFJhZGlvJztcblxuZXhwb3J0IGNsYXNzIFJhZGlvQmxvY2sgZXh0ZW5kcyBDb250cm9sIHtcbiAgICBidG5zOiBBcnJheTxJbnB1dFJhZGlvPjtcbiAgICBwdWJsaWMgb25DaGFuZ2U6IChzdGF0ZTogYm9vbGVhbiwgbmFtZTogc3RyaW5nKSA9PiB2b2lkID0gKCkgPT4ge307XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnROb2RlOiBIVE1MRWxlbWVudCwgZGF0YTogQXJyYXk8SUZvcm1QYXltZW50Pikge1xuICAgICAgICBzdXBlcihwYXJlbnROb2RlLCAnZGl2JywgJ2lucHV0X3dyYXBwZXIgbWItMTAnKTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBuZXcgQ29udHJvbCh0aGlzLm5vZGUsICdkaXYnLCAnbGFiZWwnLCAnUGF5bWVudDonKTtcbiAgICAgICAgY29uc3QgYmxvY2tCdG4gPSBuZXcgQ29udHJvbCh0aGlzLm5vZGUsICdkaXYnLCAnY2hlY2tib3hfb3BlbicpO1xuXG4gICAgICAgIHRoaXMuYnRucyA9IGRhdGEubWFwKChyYWRpbykgPT4ge1xuICAgICAgICAgICAgY29uc3QgYmxvY2sgPSBuZXcgSW5wdXRSYWRpbyhibG9ja0J0bi5ub2RlLCByYWRpbyk7XG4gICAgICAgICAgICBibG9jay5vbkNoYW5nZSA9IChzdGF0ZTogYm9vbGVhbiwgbmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VSYWRpb1N0YXRlKHN0YXRlLCBuYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKHN0YXRlLCBuYW1lKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gYmxvY2s7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNoYW5nZVJhZGlvU3RhdGUoc3RhdGU6IGJvb2xlYW4sIG5hbWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLmJ0bnMuZm9yRWFjaCgoYnRuKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByYWRpbyA9IGJ0bi5nZXRJbnB1dE5hbWUoKTtcbiAgICAgICAgICAgIGlmIChyYWRpbyAhPT0gbmFtZSkge1xuICAgICAgICAgICAgICAgIGJ0bi5jaGFuZ2VDaGVja2VkKGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnRuLmNoYW5nZUNoZWNrZWQoc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQ29udHJvbCBmcm9tICcuLi9jb250cm9sJztcbmltcG9ydCB7IElGb3JtRmllbGQgfSBmcm9tICcuLi91dGlscy9pbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIElucHV0QmxvY2sgZXh0ZW5kcyBDb250cm9sIHtcbiAgICBwcml2YXRlIGVycm9yOiBDb250cm9sPEhUTUxFbGVtZW50PjtcbiAgICBwdWJsaWMgb25DaGFuZ2U6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkID0gKCkgPT4ge307XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnROb2RlOiBIVE1MRWxlbWVudCwgZGF0YTogSUZvcm1GaWVsZCkge1xuICAgICAgICBzdXBlcihwYXJlbnROb2RlLCAnZGl2JywgJ2lucHV0X2NvbnRhaW5lcicpO1xuXG4gICAgICAgIGNvbnN0IHdyYXBwZXJJbnB1dCA9IG5ldyBDb250cm9sKHRoaXMubm9kZSwgJ2RpdicsICdpbnB1dF93cmFwcGVyJyk7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gbmV3IENvbnRyb2wod3JhcHBlcklucHV0Lm5vZGUsICdsYWJlbCcsICdsYWJlbCcsIGAke2RhdGEubmFtZX06YCk7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gbmV3IENvbnRyb2w8SFRNTElucHV0RWxlbWVudD4od3JhcHBlcklucHV0Lm5vZGUsICdpbnB1dCcsICdpbnB1dCcpO1xuICAgICAgICBmaWVsZC5ub2RlLnNldEF0dHJpYnV0ZSgndHlwZScsIGRhdGEudHlwZSk7XG4gICAgICAgIGZpZWxkLm5vZGUuc2V0QXR0cmlidXRlKCd2YWx1ZScsICcnKTtcbiAgICAgICAgZmllbGQubm9kZS5vbmlucHV0ID0gKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2UoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB3cmFwcGVyRXJyb3IgPSBuZXcgQ29udHJvbCh0aGlzLm5vZGUsICdkaXYnLCAnaW5wdXRfd3JhcHBlcicpO1xuICAgICAgICBjb25zdCBub0xhYmVsID0gbmV3IENvbnRyb2wod3JhcHBlckVycm9yLm5vZGUsICdkaXYnLCAnbGFiZWwnKTtcbiAgICAgICAgdGhpcy5lcnJvciA9IG5ldyBDb250cm9sKHdyYXBwZXJFcnJvci5ub2RlLCAnZGl2JywgJ2lucHV0X2Vycm9yJyk7XG4gICAgfVxuXG4gICAgc2V0RXJyb3IoZXJyOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5lcnJvci5ub2RlLnRleHRDb250ZW50ID0gZXJyO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENoZWNrb3V0RmluaXNoIH0gZnJvbSAnLi9jaGVja291dEZpbmlzaCc7XG5pbXBvcnQgeyBDaGVja2JveEJsb2NrIH0gZnJvbSAnLi9jaGVja2JveEJsb2NrJztcbmltcG9ydCB7IFJhZGlvQmxvY2sgfSBmcm9tICcuL3JhZGlvQmxvY2snO1xuaW1wb3J0IHsgSW5wdXRCbG9jayB9IGZyb20gJy4vaW5wdXRCbG9jayc7XG5pbXBvcnQgeyBGb3JtIH0gZnJvbSAnLi4vdXRpbHMvZm9ybSc7XG5pbXBvcnQgQ29udHJvbCBmcm9tICcuLi9jb250cm9sJztcbmltcG9ydCB7IElCb29rRGF0YSwgSUJvb2tPcmRlciwgSUZvcm1HaWZ0cywgSUdpZnRPdXRwdXQgfSBmcm9tICcuLi91dGlscy9pbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIENoZWNrb3V0IGV4dGVuZHMgQ29udHJvbCB7XG4gICAgcHJpdmF0ZSBmb3JtOiBGb3JtO1xuICAgIHByaXZhdGUgZmllbGRzOiBBcnJheTxDb250cm9sPiA9IFtdO1xuICAgIHByaXZhdGUgY29uZmlybUJ0bjogQ29udHJvbDxIVE1MRWxlbWVudD47XG4gICAgcHJpdmF0ZSByYWRpb0Jsb2NrOiBSYWRpb0Jsb2NrO1xuICAgIHByaXZhdGUgY2hlY2tCb3hCbG9jazogQ2hlY2tib3hCbG9jaztcbiAgICBwcml2YXRlIGZpbmlzaDogQ2hlY2tvdXRGaW5pc2ggPSBudWxsO1xuICAgIHB1YmxpYyBvbkZpbmlzaDogKCkgPT4gdm9pZCA9ICgpID0+IHt9O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBhcmVudE5vZGU6IEhUTUxFbGVtZW50LFxuICAgICAgICBvcmRlcjogQXJyYXk8SUJvb2tPcmRlcj4sXG4gICAgICAgIGRhdGE6IEFycmF5PElCb29rRGF0YT4sXG4gICAgICAgIGZvcm06IEZvcm0sXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKHBhcmVudE5vZGUsICdkaXYnLCAnY2hlY2tvdXRfbGF5b3V0Jyk7XG4gICAgICAgIHRoaXMuZm9ybSA9IGZvcm07XG5cbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IG5ldyBDb250cm9sKHRoaXMubm9kZSwgJ2RpdicsICdjaGVja291dF93cmFwcGVyJyk7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gbmV3IENvbnRyb2wod3JhcHBlci5ub2RlLCAnZGl2JywgJ29yZGVyX3RpdGxlJyk7XG4gICAgICAgIHRpdGxlLm5vZGUudGV4dENvbnRlbnQgPSAnQ2hlY2tvdXQnO1xuXG4gICAgICAgIGNvbnN0IGZvcm1Db250YWluZXIgPSBuZXcgQ29udHJvbCh3cmFwcGVyLm5vZGUsICdkaXYnLCAnb3JkZXJfY29udGFuZXInKTtcbiAgICAgICAgdGhpcy5mb3JtLmZvcm1GaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0ZpZWxkID0gbmV3IElucHV0QmxvY2soZm9ybUNvbnRhaW5lci5ub2RlLCBmaWVsZCk7XG4gICAgICAgICAgICBuZXdGaWVsZC5vbkNoYW5nZSA9ICh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9ybS5jaGFuZ2VPdXRwdXQoZmllbGQubmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIG5ld0ZpZWxkLnNldEVycm9yKHRoaXMuZm9ybS52YWxpZGF0ZShmaWVsZC5uYW1lLCB2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RGlzYWJsZWQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmZpZWxkcy5wdXNoKG5ld0ZpZWxkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yYWRpb0Jsb2NrID0gbmV3IFJhZGlvQmxvY2soZm9ybUNvbnRhaW5lci5ub2RlLCBmb3JtLmZvcm1QYXltZW50KTtcbiAgICAgICAgdGhpcy5yYWRpb0Jsb2NrLm9uQ2hhbmdlID0gKHN0YXRlOiBib29sZWFuLCBuYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGZvcm0uY2hhbmdlT3V0cHV0KCdwYXltZW50JywgbmFtZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jaGVja0JveEJsb2NrID0gbmV3IENoZWNrYm94QmxvY2soZm9ybUNvbnRhaW5lci5ub2RlLCBmb3JtLmZvcm1HaWZ0cyk7XG4gICAgICAgIHRoaXMuY2hlY2tCb3hCbG9jay5vbkNoYW5nZSA9IChnaWZ0RGF0YTogQXJyYXk8SUdpZnRPdXRwdXQ+KSA9PiB7XG4gICAgICAgICAgICBmb3JtLmNoYW5nZUdpZnRPdXRwdXQoZ2lmdERhdGEpO1xuICAgICAgICAgICAgdGhpcy5zZXREaXNhYmxlZCgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNoZWNrQm94QmxvY2sucmVxdWVzdEdpZnREYXRhID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5nZXROZXdHaWZ0T3V0cHV0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaWNvblggPSBuZXcgQ29udHJvbCh3cmFwcGVyLm5vZGUsICdkaXYnLCAnb3JkZXJfeCcsICdYJyk7XG4gICAgICAgIGljb25YLm5vZGUub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveU5vZGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5ub2RlLm9uY2xpY2sgPSAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLm5vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3lOb2RlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY29udHJvbHMgPSBuZXcgQ29udHJvbCh3cmFwcGVyLm5vZGUsICdkaXYnLCAnY2hlY2tvdXRfY29udHJvbHMnKTtcblxuICAgICAgICB0aGlzLmNvbmZpcm1CdG4gPSBuZXcgQ29udHJvbChcbiAgICAgICAgICAgIGNvbnRyb2xzLm5vZGUsXG4gICAgICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgICAgICdjaGVja291dF9jb250cm9sX2l0ZW0gZGlzYWJsZWQnLFxuICAgICAgICAgICAgJ0NvbmZpcm0nLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmNvbmZpcm1CdG4ubm9kZS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgdGhpcy5jb25maXJtQnRuLm5vZGUub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoID0gbmV3IENoZWNrb3V0RmluaXNoKHdyYXBwZXIubm9kZSwgZm9ybS5nZXRGaW5hbE91dHB1dChvcmRlciwgZGF0YSkpO1xuICAgICAgICAgICAgdGhpcy5maW5pc2gub25DbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRmluaXNoKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGNhbmNlbEJ0biA9IG5ldyBDb250cm9sPEhUTUxCdXR0b25FbGVtZW50PihcbiAgICAgICAgICAgIGNvbnRyb2xzLm5vZGUsXG4gICAgICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgICAgICdjaGVja291dF9jb250cm9sX2l0ZW0nLFxuICAgICAgICAgICAgJ0NhbmNlbCcsXG4gICAgICAgICk7XG4gICAgICAgIGNhbmNlbEJ0bi5ub2RlLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lOb2RlKCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc2hvdygpIHtcbiAgICAgICAgdGhpcy5ub2RlLmNsYXNzTGlzdC5hZGQoJ2NoZWNrb3V0X3Nob3cnKTtcbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICB0aGlzLm5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tvdXRfc2hvdycpO1xuICAgIH1cblxuICAgIGRlc3Ryb3lOb2RlKCkge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgdGhpcy5ub2RlLm9udHJhbnNpdGlvbmVuZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbmlzaCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHNldERpc2FibGVkKCkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZm9ybS5nZXRFcnJvclN0YXRlKCk7XG4gICAgICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlybUJ0bi5ub2RlLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlybUJ0bi5ub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpcm1CdG4ubm9kZS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlybUJ0bi5ub2RlLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXROZXdHaWZ0T3V0cHV0KCkge1xuICAgICAgICB0aGlzLmNoZWNrQm94QmxvY2suc2V0R2lmdERhdGEodGhpcy5mb3JtLmNsZWFyR2lmdE91dHB1dCgpKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQ29udHJvbCBmcm9tICcuLi9jb250cm9sJztcbmltcG9ydCBpbWFnZSBmcm9tICcuLi9hc3NldHMvc2hvcHBpbmctdHJvbGxleS5zdmcnO1xuXG5leHBvcnQgY2xhc3MgQmFza2V0IGV4dGVuZHMgQ29udHJvbCB7XG4gICAgcHVibGljIG9uQ2xpY2s6ICgpID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSBxdWFudGl0eU5vZGU6IENvbnRyb2w8SFRNTEVsZW1lbnQ+O1xuICAgIHByaXZhdGUgcXVhbnRpdHk6IG51bWJlciA9IDA7XG4gICAgcHVibGljIGFkZEJ5RHJhZzogKGlkOiBudW1iZXIpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnROb2RlOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBzdXBlcihwYXJlbnROb2RlLCAnZGl2JywgJ2JhY2tldF93cmFwcGVyJyk7XG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyBDb250cm9sKHRoaXMubm9kZSwgJ2ltZycsICdiYWNrZXRfaW1nJyk7XG4gICAgICAgIGltZy5ub2RlLnNldEF0dHJpYnV0ZSgnc3JjJywgaW1hZ2UpO1xuXG4gICAgICAgIHRoaXMucXVhbnRpdHlOb2RlID0gbmV3IENvbnRyb2wodGhpcy5ub2RlLCAnZGl2JywgJ2Jhc2tldF9xdWFudGl0eScsICcwJyk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLm5vZGUub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25DbGljaygpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm5vZGUub25kcmFnb3ZlciA9IChlOiBEcmFnRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnY29weSc7XG4gICAgICAgICAgICB0aGlzLm5vZGUuY2xhc3NMaXN0LmFkZCgnYmFja2V0X2VudGVyJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5ub2RlLm9uZHJvcCA9IChlOiBEcmFnRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gSlNPTi5wYXJzZShlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCdpZCcpKTtcbiAgICAgICAgICAgIHRoaXMubm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdiYWNrZXRfZW50ZXInKTtcbiAgICAgICAgICAgIHRoaXMuYWRkQnlEcmFnKGlkKTtcbiAgICAgICAgICAgIC8vdGhpcy5pbmNyZWFzZVF1YW50aXR5KCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubm9kZS5vbmRyYWdsZWF2ZSA9IChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnYmFja2V0X2VudGVyJyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY2hhbmdlUXVhbnRpdHkobnVtOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5xdWFudGl0eSA9IG51bTtcbiAgICAgICAgdGhpcy5xdWFudGl0eU5vZGUubm9kZS50ZXh0Q29udGVudCA9IGAke3RoaXMucXVhbnRpdHl9YDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNrZXQgfSBmcm9tICcuL2Jhc2tldC9iYXNrZXQnO1xuaW1wb3J0IENvbnRyb2wgZnJvbSAnLi9jb250cm9sJztcblxuZXhwb3J0IGNsYXNzIEhlYWRlciBleHRlbmRzIENvbnRyb2wge1xuICAgIHByaXZhdGUgYmFza2V0OiBCYXNrZXQ7XG4gICAgcHVibGljIHNob3dPcmRlcjogKCkgPT4gdm9pZCA9ICgpID0+IHt9O1xuICAgIHB1YmxpYyBhZGRUb0Jhc2tldDogKGlkOiBudW1iZXIpID0+IHZvaWQgPSAoKSA9PiB7fTtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmVudE5vZGU6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKHBhcmVudE5vZGUsICdkaXYnLCAnaGVhZGVyX3dyYXBwZXInKTtcbiAgICAgICAgY29uc3QgbG9nbyA9IG5ldyBDb250cm9sKHRoaXMubm9kZSwgJ2RpdicsICdoZWFkZXJfbG9nbycpO1xuICAgICAgICBsb2dvLm5vZGUudGV4dENvbnRlbnQgPSAnQlMnO1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gbmV3IENvbnRyb2wodGhpcy5ub2RlLCAnZGl2JywgJ2hlYWRlcl90aXRsZScpO1xuICAgICAgICB0aXRsZS5ub2RlLnRleHRDb250ZW50ID0gJ0Jvb2sgU2hvcCc7XG5cbiAgICAgICAgdGhpcy5iYXNrZXQgPSBuZXcgQmFza2V0KHRoaXMubm9kZSk7XG4gICAgICAgIHRoaXMuYmFza2V0Lm9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNob3dPcmRlcigpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmJhc2tldC5hZGRCeURyYWcgPSAoaWQ6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5hZGRUb0Jhc2tldChpZCk7XG4gICAgICAgIH07XG5cbiAgICB9XG5cbiAgICBjaGFuZ2VRdWFudGl0eShudW06IG51bWJlcikge1xuICAgICAgICB0aGlzLmJhc2tldC5jaGFuZ2VRdWFudGl0eShudW0pO1xuICAgIH1cbn1cbiIsImltcG9ydCBDb250cm9sIGZyb20gJy4uL2NvbnRyb2wnO1xuaW1wb3J0IHsgSUJvb2tEYXRhIH0gZnJvbSAnLi4vdXRpbHMvaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBCb29rRGVzYyBleHRlbmRzIENvbnRyb2wge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudE5vZGU6IEhUTUxFbGVtZW50LCBkYXRhOiBJQm9va0RhdGEpIHtcbiAgICAgICAgc3VwZXIocGFyZW50Tm9kZSwgJ2RpdicsICdib29rX2Rlc2Nfd3JhcHBlcicpO1xuXG4gICAgICAgIGNvbnN0IGF1dGhvckJsb2NrID0gbmV3IENvbnRyb2wodGhpcy5ub2RlLCAnZGl2JywgJ3RleHRfd3JhcHBlcicpO1xuICAgICAgICBjb25zdCBhdXRob3JLZXkgPSBuZXcgQ29udHJvbChhdXRob3JCbG9jay5ub2RlLCAnc3BhbicsICdib29rX2tleScpO1xuICAgICAgICBhdXRob3JLZXkubm9kZS50ZXh0Q29udGVudCA9ICdhdXRob3I6JztcbiAgICAgICAgY29uc3QgYXV0aG9yTmFtZSA9IG5ldyBDb250cm9sKGF1dGhvckJsb2NrLm5vZGUsICdzcGFuJyk7XG4gICAgICAgIGF1dGhvck5hbWUubm9kZS50ZXh0Q29udGVudCA9IGRhdGEuYXV0aG9yO1xuXG4gICAgICAgIGNvbnN0IHRpdGxlQmxvY2sgPSBuZXcgQ29udHJvbCh0aGlzLm5vZGUsICdkaXYnLCAndGV4dF93cmFwcGVyJyk7XG4gICAgICAgIGNvbnN0IHRpdGxlS2V5ID0gbmV3IENvbnRyb2wodGl0bGVCbG9jay5ub2RlLCAnc3BhbicsICdib29rX2tleScpO1xuICAgICAgICB0aXRsZUtleS5ub2RlLnRleHRDb250ZW50ID0gJ3RpdGxlOic7XG4gICAgICAgIGNvbnN0IHRpdGxlTmFtZSA9IG5ldyBDb250cm9sKHRpdGxlQmxvY2subm9kZSwgJ3NwYW4nLCAnYm9va19vdGRlcl90aXRsZScpO1xuICAgICAgICB0aXRsZU5hbWUubm9kZS50ZXh0Q29udGVudCA9IGRhdGEudGl0bGU7XG5cbiAgICAgICAgY29uc3QgcHJpY2VCbG9jayA9IG5ldyBDb250cm9sKHRoaXMubm9kZSwgJ2RpdicsICd0ZXh0X3dyYXBwZXInKTtcbiAgICAgICAgY29uc3QgcHJpY2VLZXkgPSBuZXcgQ29udHJvbChwcmljZUJsb2NrLm5vZGUsICdzcGFuJywgJ2Jvb2tfa2V5Jyk7XG4gICAgICAgIHByaWNlS2V5Lm5vZGUudGV4dENvbnRlbnQgPSAncHJpY2U6JztcbiAgICAgICAgY29uc3QgcHJpY2VOYW1lID0gbmV3IENvbnRyb2wocHJpY2VCbG9jay5ub2RlLCAnc3BhbicpO1xuICAgICAgICBwcmljZU5hbWUubm9kZS50ZXh0Q29udGVudCA9IGAke2RhdGEucHJpY2V9YDtcbiAgICB9XG59XG4iLCJpbXBvcnQgQ29udHJvbCBmcm9tICcuLi9jb250cm9sJztcblxuZXhwb3J0IGNsYXNzIEJvb2tDb250cm9sIGV4dGVuZHMgQ29udHJvbCB7XG4gICAgcHVibGljIG9uRGVjcmVhc2U6ICgpID0+IHZvaWQgPSAoKSA9PiB7fTtcbiAgICBwdWJsaWMgb25JbmNyZWFzZTogKCkgPT4gdm9pZCA9ICgpID0+IHt9O1xuICAgIHB1YmxpYyBvblJlbW92ZTogKCkgPT4gdm9pZCA9ICgpID0+IHt9O1xuICAgIHByaXZhdGUgcXVhbnRpdHlOb2RlOiBDb250cm9sPEhUTUxFbGVtZW50PjtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmVudE5vZGU6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKHBhcmVudE5vZGUsICdkaXYnLCAndGV4dF93cmFwcGVyJyk7XG5cbiAgICAgICAgY29uc3QgQnRuS2V5ID0gbmV3IENvbnRyb2wodGhpcy5ub2RlLCAnc3BhbicsICdib29rX2tleScpO1xuICAgICAgICBCdG5LZXkubm9kZS50ZXh0Q29udGVudCA9ICdxdHk6J1xuICAgICAgICBcbiAgICAgICAgY29uc3QgY29udHJvbHMgPSBuZXcgQ29udHJvbCh0aGlzLm5vZGUsICdkaXYnLCAnYm9va19jb250cm9sJyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBxdHlCdG5zID0gbmV3IENvbnRyb2woY29udHJvbHMubm9kZSwgJ2RpdicsICdvcmRlcl9jb250cm9sX3F0eScpO1xuICAgICAgICBjb25zdCBkZWNCdG4gPSBuZXcgQ29udHJvbChxdHlCdG5zLm5vZGUsICdidXR0b24nLCAnYnRuX3F1YW50aXR5JywgJy0nKTtcbiAgICAgICAgZGVjQnRuLm5vZGUub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25EZWNyZWFzZSgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnF1YW50aXR5Tm9kZSA9IG5ldyBDb250cm9sKHF0eUJ0bnMubm9kZSwgJ3NwYW4nLCAnY29udHJvbF9vcmRlcl9xdWFudGl0eScsICcwJyk7XG4gICAgICAgIGNvbnN0IGluY0J0biA9IG5ldyBDb250cm9sKHF0eUJ0bnMubm9kZSwgJ2J1dHRvbicsICdidG5fcXVhbnRpdHkgbXItMjAnLCAnKycpO1xuICAgICAgICBpbmNCdG4ubm9kZS5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkluY3JlYXNlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVtb3ZlQnRuID0gbmV3IENvbnRyb2woY29udHJvbHMubm9kZSwgJ2J1dHRvbicsICdib29rX2NvbnRyb2xfaXRlbScsICdSZW1vdmUnKTtcbiAgICAgICAgcmVtb3ZlQnRuLm5vZGUub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25SZW1vdmUoKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzZXRRdWFudGl0eShudW06IG51bWJlcikge1xuICAgICAgICB0aGlzLnF1YW50aXR5Tm9kZS5ub2RlLnRleHRDb250ZW50ID0gYCR7bnVtfWA7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQm9va0Rlc2MgfSBmcm9tICcuL2Jvb2tEZXNjJztcbmltcG9ydCBDb250cm9sIGZyb20gJy4uL2NvbnRyb2wnO1xuaW1wb3J0IHsgQm9va0NvbnRyb2wgfSBmcm9tICcuL2Jvb2tDb250cm9sJztcbmltcG9ydCB7IElCb29rRGF0YSB9IGZyb20gJy4uL3V0aWxzL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgT3JkZXJCb29rIGV4dGVuZHMgQ29udHJvbCB7XG4gICAgcHJpdmF0ZSBib29rSW1hZ2U6IENvbnRyb2w8SFRNTEVsZW1lbnQ+O1xuICAgIHByaXZhdGUgYm9va0RhdGE6IElCb29rRGF0YTtcbiAgICBwcml2YXRlIHF1YW50aXR5OiBudW1iZXIgPSAwO1xuICAgIHB1YmxpYyBvblJlbW92ZTogKGlkOiBudW1iZXIpID0+IHZvaWQgPSAoKSA9PiB7fTtcbiAgICBwcml2YXRlIGJvb2tEZXNjOiBCb29rRGVzYztcbiAgICBwdWJsaWMgb25DaGFuZ2VCb29rOiAoKSA9PiB2b2lkID0gKCkgPT4ge307XG4gICAgcHJpdmF0ZSBjb250cm9sczogQm9va0NvbnRyb2w7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnROb2RlOiBIVE1MRWxlbWVudCwgZGF0YTogSUJvb2tEYXRhKSB7XG4gICAgICAgIHN1cGVyKHBhcmVudE5vZGUsICdkaXYnLCAnYm9va193cmFwcGVyJyk7XG4gICAgICAgIHRoaXMuYm9va0RhdGEgPSBkYXRhO1xuXG4gICAgICAgIHRoaXMuYm9va0ltYWdlID0gbmV3IENvbnRyb2wodGhpcy5ub2RlLCAnZGl2JywgJ2Jvb2tfb3JkZXJfaW1hZ2UnLCAnSU1HJyk7XG4gICAgICAgIHRoaXMuYm9va0ltYWdlLm5vZGUuZHJhZ2dhYmxlID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBuZXcgQ29udHJvbCh0aGlzLm5vZGUsICdkaXYnLCAnYm9va19jb250YWluZXInKTtcbiAgICAgICAgdGhpcy5ib29rRGVzYyA9IG5ldyBCb29rRGVzYyhjb250YWluZXIubm9kZSwgZGF0YSk7XG5cbiAgICAgICAgdGhpcy5jb250cm9scyA9IG5ldyBCb29rQ29udHJvbChjb250YWluZXIubm9kZSk7XG4gICAgICAgIHRoaXMuaW5jcmVhc2VCb29rKCk7XG4gICAgICAgIHRoaXMuY29udHJvbHMub25EZWNyZWFzZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGVjcmVhc2VCb29rKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250cm9scy5vbkluY3JlYXNlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pbmNyZWFzZUJvb2soKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRyb2xzLm9uUmVtb3ZlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vblJlbW92ZSh0aGlzLmJvb2tEYXRhLmlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib29rRGF0YS5pZDtcbiAgICB9XG5cbiAgICBkZWNyZWFzZUJvb2soKSB7XG4gICAgICAgIGlmICh0aGlzLnF1YW50aXR5ID4gMSkge1xuICAgICAgICAgICAgdGhpcy5xdWFudGl0eSAtPSAxO1xuICAgICAgICAgICAgdGhpcy5jb250cm9scy5zZXRRdWFudGl0eSh0aGlzLnF1YW50aXR5KTtcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2VCb29rKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbmNyZWFzZUJvb2soKSB7XG4gICAgICAgIHRoaXMucXVhbnRpdHkgKz0gMTtcbiAgICAgICAgdGhpcy5jb250cm9scy5zZXRRdWFudGl0eSh0aGlzLnF1YW50aXR5KTtcbiAgICAgICAgdGhpcy5vbkNoYW5nZUJvb2soKTtcbiAgICB9XG5cbiAgICBnZXRRdWFudGl0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXVhbnRpdHk7XG4gICAgfVxuXG4gICAgZ2V0UHJpY2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvb2tEYXRhLnByaWNlO1xuICAgIH1cblxuICAgIGNsZWFyRGF0YSgpIHtcbiAgICAgICAgXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgT3JkZXJCb29rIH0gZnJvbSAnLi9vcmRlckJvb2snO1xuaW1wb3J0IENvbnRyb2wgZnJvbSAnLi4vY29udHJvbCc7XG5pbXBvcnQgeyBJQm9va0RhdGEsIElCb29rT3JkZXIgfSBmcm9tICcuLi91dGlscy9pbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIE9yZGVyIGV4dGVuZHMgQ29udHJvbCB7XG4gICAgcHJpdmF0ZSBvcmRlckJvb2tzOiBBcnJheTxPcmRlckJvb2s+ID0gW107XG4gICAgcHJpdmF0ZSBvcmRlckNvbnRhaW5lcjogQ29udHJvbDxIVE1MRWxlbWVudD47XG4gICAgcHVibGljIG9uQ2hhbmdlQm9vazogKG51bTogbnVtYmVyKSA9PiB2b2lkID0gKCkgPT4ge307XG4gICAgcHJpdmF0ZSB0b3RhbDogQ29udHJvbDxIVE1MRWxlbWVudD47XG4gICAgcHJpdmF0ZSBlbXB0eTogQ29udHJvbDxIVE1MRWxlbWVudD47XG4gICAgcHVibGljIG9uQ29uZmlybTogKG9yZGVyOiBBcnJheTxJQm9va09yZGVyPikgPT4gdm9pZCA9ICgpID0+IHt9O1xuICAgIHByaXZhdGUgY29uZmlybTogQ29udHJvbDxIVE1MQnV0dG9uRWxlbWVudD47XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnROb2RlOiBIVE1MRWxlbWVudCkge1xuICAgICAgICBzdXBlcihwYXJlbnROb2RlLCAnZGl2JywgJ29yZGVyX2xheW91dCcpO1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gbmV3IENvbnRyb2wodGhpcy5ub2RlLCAnZGl2JywgJ29yZGVyX3dyYXBwZXInKTtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBuZXcgQ29udHJvbCh3cmFwcGVyLm5vZGUsICdkaXYnLCAnb3JkZXJfdGl0bGUnKTtcbiAgICAgICAgdGl0bGUubm9kZS50ZXh0Q29udGVudCA9ICdNeSBPcmRlcic7XG5cbiAgICAgICAgdGhpcy5vcmRlckNvbnRhaW5lciA9IG5ldyBDb250cm9sKHdyYXBwZXIubm9kZSwgJ2RpdicsICdvcmRlcl9jb250YW5lcicpO1xuICAgICAgICBcblxuICAgICAgICBjb25zdCBpY29uWCA9IG5ldyBDb250cm9sKHdyYXBwZXIubm9kZSwgJ2RpdicsICdvcmRlcl94JywgJ1gnKTtcbiAgICAgICAgaWNvblgubm9kZS5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubm9kZS5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gdGhpcy5ub2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdG90YWxDb250YWluZXIgPSBuZXcgQ29udHJvbCh3cmFwcGVyLm5vZGUsICdkaXYnLCAnb3JkZXJfdG90YWxfd3JhcHBlcicpO1xuICAgICAgICB0aGlzLnRvdGFsID0gbmV3IENvbnRyb2wodG90YWxDb250YWluZXIubm9kZSwgJ2RpdicsICdvcmRlcl90b3RhbCcsICdUb3RhbDogJDAnKTtcbiAgICAgICAgXG5cbiAgICAgICAgdGhpcy5jb25maXJtID0gbmV3IENvbnRyb2w8SFRNTEJ1dHRvbkVsZW1lbnQ+KHRvdGFsQ29udGFpbmVyLm5vZGUsICdidXR0b24nLCAnYm9va19jb250cm9sX2l0ZW0nLCAnQ29uZmlybScpO1xuXG4gICAgICAgIHRoaXMuY29uZmlybS5ub2RlLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB0aGlzLm9yZGVyQm9va3MucmVkdWNlKChhY2MsIGJvb2spID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogYm9vay5nZXRJZCgpLFxuICAgICAgICAgICAgICAgICAgICBxdHk6IGJvb2suZ2V0UXVhbnRpdHkoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGFjYy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9LCBbXSBhcyBBcnJheTxJQm9va09yZGVyPik7XG4gICAgICAgICAgICB0aGlzLm9uQ29uZmlybShwYXlsb2FkKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmFkZEVtcHR5KCdFbXB0eSBCYXNrZXQnKTtcbiAgICB9XG5cbiAgICBzaG93KCkge1xuICAgICAgICB0aGlzLm5vZGUuY2xhc3NMaXN0LmFkZCgnb3JkZXJfc2hvdycpO1xuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMubm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdvcmRlcl9zaG93Jyk7XG4gICAgfVxuXG4gICAgc2V0VG90YWwoKSB7XG4gICAgICAgIGNvbnN0IHByaWNlID0gdGhpcy5vcmRlckJvb2tzLnJlZHVjZSgoYWNjLCBib29rKSA9PiB7XG4gICAgICAgICAgICBhY2MgKz0gYm9vay5nZXRRdWFudGl0eSgpICogYm9vay5nZXRQcmljZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgdGhpcy50b3RhbC5ub2RlLnRleHRDb250ZW50ID0gYFRvdGFsOiAkJHtwcmljZX1gO1xuICAgIH1cblxuICAgIGFkZEJvb2soYm9va0RhdGE6IElCb29rRGF0YSkge1xuICAgICAgICB0aGlzLnJlbW92ZUVtcHR5KCk7XG4gICAgICAgIGNvbnN0IGZvdW5kID0gdGhpcy5vcmRlckJvb2tzLmZpbmQoKGJvb2spID0+IGJvb2suZ2V0SWQoKSA9PT0gYm9va0RhdGEuaWQpO1xuICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgIGZvdW5kLmluY3JlYXNlQm9vaygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9yZGVyQm9vayA9IG5ldyBPcmRlckJvb2sodGhpcy5vcmRlckNvbnRhaW5lci5ub2RlLCBib29rRGF0YSk7XG4gICAgICAgIG9yZGVyQm9vay5vbkNoYW5nZUJvb2sgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlQm9vayh0aGlzLmdldEJvb2tRdWFudGl0eSgpKTtcbiAgICAgICAgICAgIHRoaXMuc2V0VG90YWwoKTtcbiAgICAgICAgfTtcbiAgICAgICAgb3JkZXJCb29rLm9uUmVtb3ZlID0gKGlkOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQm9vayhpZCk7XG4gICAgICAgICAgICB0aGlzLnNldFRvdGFsKCk7XG5cbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2VCb29rKHRoaXMuZ2V0Qm9va1F1YW50aXR5KCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9yZGVyQm9va3MucHVzaChvcmRlckJvb2spO1xuICAgICAgICB0aGlzLnNldFRvdGFsKCk7XG4gICAgICAgIHRoaXMub25DaGFuZ2VCb29rKHRoaXMuZ2V0Qm9va1F1YW50aXR5KCkpO1xuICAgIH1cblxuICAgIGFkZEVtcHR5KHN0cjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuZW1wdHkgPSBuZXcgQ29udHJvbCh0aGlzLm9yZGVyQ29udGFpbmVyLm5vZGUsICdkaXYnLCAnb3JkZXJfZW1wdHknKTtcbiAgICAgICAgdGhpcy5lbXB0eS5ub2RlLnRleHRDb250ZW50ID0gc3RyO1xuICAgICAgICB0aGlzLnRvdGFsLm5vZGUudGV4dENvbnRlbnQgPSAnVG90YWw6ICQwJztcbiAgICAgICAgdGhpcy5jb25maXJtLm5vZGUuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgICAgdGhpcy5jb25maXJtLm5vZGUuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJlbW92ZUVtcHR5KCkge1xuICAgICAgICB0aGlzLmVtcHR5LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5jb25maXJtLm5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgdGhpcy5jb25maXJtLm5vZGUuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZW1vdmVCb29rKGlkOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3Qgb3JkZXJCb29rID0gdGhpcy5vcmRlckJvb2tzLmZpbmQoKGJvb2spID0+IGJvb2suZ2V0SWQoKSA9PT0gaWQpO1xuXG4gICAgICAgIGlmIChvcmRlckJvb2spIHtcbiAgICAgICAgICAgIG9yZGVyQm9vay5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9yZGVyQm9va3MgPSB0aGlzLm9yZGVyQm9va3MuZmlsdGVyKChib29rKSA9PiBib29rLmdldElkKCkgIT09IGlkKTtcbiAgICAgICAgaWYgKCF0aGlzLm9yZGVyQm9va3MubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEVtcHR5KCdFbXB0eSBCYXNrZXQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEJvb2tRdWFudGl0eSgpIHtcbiAgICAgICAgY29uc3QgcSA9IHRoaXMub3JkZXJCb29rcy5yZWR1Y2UoKGFjYywgYm9vaykgPT4ge1xuICAgICAgICAgICAgYWNjICs9IGJvb2suZ2V0UXVhbnRpdHkoKTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIDApO1xuXG4gICAgICAgIHJldHVybiBxO1xuICAgIH1cblxuICAgIGNsZWFyRGF0YSgpIHtcbiAgICAgICAgdGhpcy5vcmRlckJvb2tzLmZvckVhY2goKGJvb2spID0+IHtcbiAgICAgICAgICAgIGJvb2suZGVzdHJveSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm9yZGVyQm9va3MgPSBbXTtcbiAgICAgICAgdGhpcy50b3RhbC5ub2RlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIHRoaXMuYWRkRW1wdHkoJ0VtcHR5IEJhc2tldCcpO1xuICAgIH1cbn1cbiIsImltcG9ydCBDb250cm9sIGZyb20gJy4uL2NvbnRyb2wnO1xuXG5leHBvcnQgY2xhc3MgRGVzY3JpcHRpb24gZXh0ZW5kcyBDb250cm9sIHtcbiAgICBwdWJsaWMgb25DbG9zZTogKCkgPT4gdm9pZCA9ICgpID0+IHt9O1xuXG4gICAgY29uc3RydWN0b3IocGFyZW50Tm9kZTogSFRNTEVsZW1lbnQsIGRlc2M6IHN0cmluZykge1xuICAgICAgICBzdXBlcihwYXJlbnROb2RlLCAnZGl2JywgJ2Rlc2Nfd3JhcHBlcicpO1xuXG4gICAgICAgIGNvbnN0IHRleHQgPSBuZXcgQ29udHJvbCh0aGlzLm5vZGUsICdkaXYnLCAnZGVzY190ZXh0IG1iLTIwJywgZGVzYyk7XG4gICAgICAgIGNvbnN0IGNsb3NlQnRuID0gbmV3IENvbnRyb2wodGhpcy5ub2RlLCAnYnV0dG9uJywgJ2Jvb2tfY29udHJvbF9pdGVtIG1sLWF1dG8nLCAnQ2xvc2UnKTtcbiAgICAgICAgY2xvc2VCdG4ubm9kZS5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2UoKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBEZXNjcmlwdGlvbiB9IGZyb20gJy4vZGVzY3JpcHRpb24nO1xuaW1wb3J0IENvbnRyb2wgZnJvbSAnLi4vY29udHJvbCc7XG5pbXBvcnQgeyBJQm9va0RhdGEgfSBmcm9tICcuLi91dGlscy9pbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIEJvb2tDb250cm9sIGV4dGVuZHMgQ29udHJvbCB7XG4gICAgY2hvb3NlQm9vazogKGlkOiBudW1iZXIpID0+IHZvaWQgPSAoKSA9PiB7fTtcbiAgICBwcml2YXRlIHNob3dEZXNjOiBDb250cm9sPEhUTUxCdXR0b25FbGVtZW50PjtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmVudE5vZGU6IEhUTUxFbGVtZW50LCBkYXRhOiBJQm9va0RhdGEpIHtcbiAgICAgICAgc3VwZXIocGFyZW50Tm9kZSwgJ2RpdicsICd0ZXh0X3dyYXBwZXInKTtcblxuICAgICAgICBjb25zdCBhZGRCdG5LZXkgPSBuZXcgQ29udHJvbCh0aGlzLm5vZGUsICdzcGFuJywgJ2Jvb2tfa2V5Jyk7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xzID0gbmV3IENvbnRyb2wodGhpcy5ub2RlLCAnZGl2JywgJ2Jvb2tfY29udHJvbCcpO1xuICAgICAgICB0aGlzLnNob3dEZXNjID0gbmV3IENvbnRyb2w8SFRNTEJ1dHRvbkVsZW1lbnQ+KGNvbnRyb2xzLm5vZGUsICdidXR0b24nLCAnYm9va19jb250cm9sX2l0ZW0nLCAnRGVzY3JpcHRpb24nKTtcbiAgICAgICAgdGhpcy5zaG93RGVzYy5ub2RlLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZURlc2MoZGF0YS5kZXNjcmlwdGlvbik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgYWRkQnRuID0gbmV3IENvbnRyb2woY29udHJvbHMubm9kZSwgJ2J1dHRvbicsICdib29rX2NvbnRyb2xfaXRlbScsICdBZGQgdG8gYmFza2V0Jyk7XG4gICAgICAgIGFkZEJ0bi5ub2RlLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNob29zZUJvb2soZGF0YS5pZCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY3JlYXRlRGVzYyh0ZXh0OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgZGVzYyA9IG5ldyBEZXNjcmlwdGlvbih0aGlzLnNob3dEZXNjLm5vZGUsIHRleHQpO1xuICAgICAgICBkZXNjLm9uQ2xvc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICBkZXNjLmRlc3Ryb3koKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQ29udHJvbCBmcm9tICcuLi9jb250cm9sJztcbmltcG9ydCB7IElCb29rRGF0YSB9IGZyb20gJy4uL3V0aWxzL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgQm9va0Rlc2MgZXh0ZW5kcyBDb250cm9sIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnROb2RlOiBIVE1MRWxlbWVudCwgZGF0YTogSUJvb2tEYXRhKSB7XG4gICAgICAgIHN1cGVyKHBhcmVudE5vZGUsICdkaXYnLCAnYm9va19kZXNjX3dyYXBwZXInKTtcblxuICAgICAgICBjb25zdCBhdXRob3JCbG9jayA9IG5ldyBDb250cm9sKHRoaXMubm9kZSwgJ2RpdicsICd0ZXh0X3dyYXBwZXInKTtcbiAgICAgICAgY29uc3QgYXV0aG9yS2V5ID0gbmV3IENvbnRyb2woYXV0aG9yQmxvY2subm9kZSwgJ3NwYW4nLCAnYm9va19rZXknKTtcbiAgICAgICAgYXV0aG9yS2V5Lm5vZGUudGV4dENvbnRlbnQgPSAnYXV0aG9yOic7XG4gICAgICAgIGNvbnN0IGF1dGhvck5hbWUgPSBuZXcgQ29udHJvbChhdXRob3JCbG9jay5ub2RlLCAnc3BhbicpO1xuICAgICAgICBhdXRob3JOYW1lLm5vZGUudGV4dENvbnRlbnQgPSBkYXRhLmF1dGhvcjtcblxuICAgICAgICBjb25zdCB0aXRsZUJsb2NrID0gbmV3IENvbnRyb2wodGhpcy5ub2RlLCAnZGl2JywgJ3RleHRfd3JhcHBlcicpO1xuICAgICAgICBjb25zdCB0aXRsZUtleSA9IG5ldyBDb250cm9sKHRpdGxlQmxvY2subm9kZSwgJ3NwYW4nLCAnYm9va19rZXknKTtcbiAgICAgICAgdGl0bGVLZXkubm9kZS50ZXh0Q29udGVudCA9ICd0aXRsZTonO1xuICAgICAgICBjb25zdCB0aXRsZU5hbWUgPSBuZXcgQ29udHJvbCh0aXRsZUJsb2NrLm5vZGUsICdzcGFuJywgJ2Jvb2tfdGl0bGUnKTtcbiAgICAgICAgdGl0bGVOYW1lLm5vZGUudGV4dENvbnRlbnQgPSBkYXRhLnRpdGxlO1xuXG4gICAgICAgIGNvbnN0IHByaWNlQmxvY2sgPSBuZXcgQ29udHJvbCh0aGlzLm5vZGUsICdkaXYnLCAndGV4dF93cmFwcGVyJyk7XG4gICAgICAgIGNvbnN0IHByaWNlS2V5ID0gbmV3IENvbnRyb2wocHJpY2VCbG9jay5ub2RlLCAnc3BhbicsICdib29rX2tleScpO1xuICAgICAgICBwcmljZUtleS5ub2RlLnRleHRDb250ZW50ID0gJ3ByaWNlOic7XG4gICAgICAgIGNvbnN0IHByaWNlTmFtZSA9IG5ldyBDb250cm9sKHByaWNlQmxvY2subm9kZSwgJ3NwYW4nKTtcbiAgICAgICAgcHJpY2VOYW1lLm5vZGUudGV4dENvbnRlbnQgPSBgJHtkYXRhLnByaWNlfWA7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQm9va0NvbnRyb2wgfSBmcm9tICcuL2Jvb2tDb250cm9sJztcbmltcG9ydCB7IEJvb2tEZXNjIH0gZnJvbSAnLi9ib29rRGVzYyc7XG5pbXBvcnQgQ29udHJvbCBmcm9tICcuLi9jb250cm9sJztcbmltcG9ydCB7IElCb29rRGF0YSB9IGZyb20gJy4uL3V0aWxzL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgY2xhc3MgQm9vayBleHRlbmRzIENvbnRyb2wge1xuICAgIHByaXZhdGUgYm9va0ltYWdlOiBDb250cm9sPEhUTUxFbGVtZW50PjtcbiAgICBwcml2YXRlIGJvb2tEYXRhOiBJQm9va0RhdGE7XG4gICAgcHVibGljIGNob29zZUJvb2s6IChpZDogbnVtYmVyKSA9PiB2b2lkO1xuICAgIGJvb2tEZXNjOiBCb29rRGVzYztcblxuICAgIGNvbnN0cnVjdG9yKHBhcmVudE5vZGU6IEhUTUxFbGVtZW50LCBkYXRhOiBJQm9va0RhdGEpIHtcbiAgICAgICAgc3VwZXIocGFyZW50Tm9kZSwgJ2RpdicsICdib29rX3dyYXBwZXInKTtcbiAgICAgICAgdGhpcy5ib29rRGF0YSA9IGRhdGE7XG5cbiAgICAgICAgLy9jb25zdCBpbWFnZSA9IG5ldyBDb250cm9sKHRoaXMubm9kZSwgJ2RpdicsICdib29rX2ltYWdlJyk7XG4gICAgICAgIHRoaXMuYm9va0ltYWdlID0gbmV3IENvbnRyb2wodGhpcy5ub2RlLCAnZGl2JywgJ2Jvb2tfaW1hZ2UnLCAnSU1HJyk7XG4gICAgICAgIHRoaXMuYm9va0ltYWdlLm5vZGUuZHJhZ2dhYmxlID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBuZXcgQ29udHJvbCh0aGlzLm5vZGUsICdkaXYnLCAnYm9va19jb250YWluZXInKTtcblxuICAgICAgICB0aGlzLmJvb2tEZXNjID0gbmV3IEJvb2tEZXNjKGNvbnRhaW5lci5ub2RlLCBkYXRhKTtcbiAgICAgICAgY29uc3QgY29udHJvbHMgPSBuZXcgQm9va0NvbnRyb2woY29udGFpbmVyLm5vZGUsIGRhdGEpO1xuICAgICAgICBjb250cm9scy5jaG9vc2VCb29rID0gKGlkOm51bWJlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5jaG9vc2VCb29rKGlkKTtcbiAgICAgICAgfVxuXG5cblxuICAgICAgICB0aGlzLmJvb2tJbWFnZS5ub2RlLm9uZHJhZ3N0YXJ0ID0gKGU6IERyYWdFdmVudCkgPT4ge1xuICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgnaWQnLCBKU09OLnN0cmluZ2lmeSh0aGlzLmJvb2tEYXRhLmlkKSk7XG4gICAgICAgICAgICBlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ2NvcHknO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmJvb2tJbWFnZS5ub2RlLm9uZHJhZ2VudGVyID0gKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYm9va0ltYWdlLm5vZGUuY2xhc3NMaXN0LmFkZCgnYm9va19kcmFnX2VudGVyJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5ib29rSW1hZ2Uubm9kZS5vbmRyYWdsZWF2ZSA9IChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmJvb2tJbWFnZS5ub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2Jvb2tfZHJhZ19lbnRlcicpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib29rRGF0YS5pZDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCb29rIH0gZnJvbSAnLi9ib29rJztcbmltcG9ydCBDb250cm9sIGZyb20gJy4uL2NvbnRyb2wnO1xuaW1wb3J0IHsgSUJvb2tEYXRhIH0gZnJvbSAnLi4vdXRpbHMvaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBDYXRhbG9nIGV4dGVuZHMgQ29udHJvbCB7XG4gICAgcHJpdmF0ZSBjYXRhbG9nOiBBcnJheTxCb29rPjtcbiAgICBwdWJsaWMgY2hvb3NlQm9vazogKGlkOiBudW1iZXIpID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnROb2RlOiBIVE1MRWxlbWVudCwgZGF0YTogQXJyYXk8SUJvb2tEYXRhPikge1xuICAgICAgICBzdXBlcihwYXJlbnROb2RlLCAnZGl2JywgJ2NhdGFsb2dfd3JhcHBlcicpO1xuXG4gICAgICAgIHRoaXMuY2F0YWxvZyA9IGRhdGEubWFwKChkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib29rID0gbmV3IEJvb2sodGhpcy5ub2RlLCBkKTtcbiAgICAgICAgICAgIGJvb2suY2hvb3NlQm9vayA9IChpZDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaG9vc2VCb29rKGlkKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gYm9vaztcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQm9vayhpZDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGZvdW5kID0gdGhpcy5jYXRhbG9nLmZpbmQoKGJvb2spID0+IGJvb2suZ2V0SWQoKSA9PT0gaWQpO1xuICAgICAgICBmb3VuZC5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5jYXRhbG9nID0gdGhpcy5jYXRhbG9nLmZpbHRlcigoYm9vaykgPT4gYm9vay5nZXRJZCgpICE9PSBpZCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBJQm9va0RhdGEsXG4gICAgSUJvb2tPcmRlcixcbiAgICBJRXJyb3JGdW5jLFxuICAgIElFcnJvclN0cixcbiAgICBJRmluYWxPcmRlcixcbiAgICBJRmluYWxQdXJjaGFzZSxcbiAgICBJRm9ybUZpZWxkLFxuICAgIElGb3JtR2lmdHMsXG4gICAgSUZvcm1QYXltZW50LFxuICAgIElHaWZ0T3V0cHV0LFxuICAgIElPdXRwdXQsXG59IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBGb3JtIHtcbiAgICBwdWJsaWMgZm9ybUZpZWxkczogQXJyYXk8SUZvcm1GaWVsZD47XG4gICAgcHJpdmF0ZSBlcnJvcnM6IEFycmF5PElFcnJvclN0ciB8IElFcnJvckZ1bmM+O1xuICAgIHByaXZhdGUgb3V0cHV0OiBJT3V0cHV0O1xuICAgIHB1YmxpYyBmb3JtUGF5bWVudDogQXJyYXk8SUZvcm1QYXltZW50PjtcbiAgICBwdWJsaWMgZm9ybUdpZnRzOiBBcnJheTxJRm9ybUdpZnRzPjtcbiAgICBwcml2YXRlIGdpZnRPdXRwdXQ6IEFycmF5PElHaWZ0T3V0cHV0PiA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGZvcm1GaWVsZHM6IEFycmF5PElGb3JtRmllbGQ+LFxuICAgICAgICBlcnJvcnM6IEFycmF5PElFcnJvclN0ciB8IElFcnJvckZ1bmM+LFxuICAgICAgICBmb3JtUGF5bWVudDogQXJyYXk8SUZvcm1QYXltZW50PixcbiAgICAgICAgZm9ybUdpZnRzOiBBcnJheTxJRm9ybUdpZnRzPixcbiAgICApIHtcbiAgICAgICAgdGhpcy5mb3JtRmllbGRzID0gZm9ybUZpZWxkcztcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgICAgIHRoaXMuZm9ybVBheW1lbnQgPSBmb3JtUGF5bWVudDtcbiAgICAgICAgdGhpcy5mb3JtR2lmdHMgPSBmb3JtR2lmdHM7XG4gICAgICAgIHRoaXMub3V0cHV0ID0ge1xuICAgICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgICBzdXJuYW1lOiAnJyxcbiAgICAgICAgICAgIGRlbGl2ZXJ5OiAnJyxcbiAgICAgICAgICAgIHN0cmVldDogJycsXG4gICAgICAgICAgICBob3VzZTogJycsXG4gICAgICAgICAgICBmbGF0OiAnJyxcbiAgICAgICAgICAgIHBheW1lbnQ6IGZvcm1QYXltZW50WzBdLm5hbWUsXG4gICAgICAgIH07XG4gICAgICAgIC8vdGhpcy5jbGVhckdpZnRPdXRwdXQoKTtcbiAgICB9XG5cbiAgICBjbGVhckdpZnRPdXRwdXQoKSB7XG4gICAgICAgIHRoaXMuZ2lmdE91dHB1dCA9IHRoaXMuY3JlYXRlR2lmdE91dHB1dCh0aGlzLmZvcm1HaWZ0cyk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZ2lmdE91dHB1dCk7XG4gICAgICAgIHJldHVybiB0aGlzLmdpZnRPdXRwdXQ7XG4gICAgfVxuXG4gICAgY3JlYXRlR2lmdE91dHB1dChmaWVsZHM6IEFycmF5PElGb3JtR2lmdHM+KSB7XG4gICAgICAgIGNvbnN0IGdpZnRPdXRwdXQgPSBmaWVsZHMubWFwKChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBmaWVsZC5uYW1lLFxuICAgICAgICAgICAgICAgIGNob2ljZTogZmFsc2UsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGdpZnRPdXRwdXQ7XG4gICAgfVxuXG4gICAgZ2V0Rm9ybUZpZWxkcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybUZpZWxkcztcbiAgICB9XG5cbiAgICB2YWxpZGF0ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgZm91bmQgPSB0aGlzLmVycm9ycy5maW5kKChlcnIpID0+IGVyci5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgaWYgKGZvdW5kLm5hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2RlbGl2ZXJ5Jykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZWQgPSB2YWx1ZS5tYXRjaCgoZm91bmQgYXMgSUVycm9yU3RyKS5yZWdleCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFtYXRjaGVkID8gJ1RoZSBmaWVsZCBpcyBpbnZhbGlkJyA6ICcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjaGVjayA9IChmb3VuZCBhcyBJRXJyb3JGdW5jKS5jaGVjaygpO1xuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKS5nZXREYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0ZSlcbiAgICAgICAgICAgICAgICA/ICdUaGUgZmllbGQgaXMgaW52YWxpZCdcbiAgICAgICAgICAgICAgICA6IGRhdGUgPCBjaGVja1xuICAgICAgICAgICAgICAgID8gJ1RoZSBmaWVsZCBpcyBpbnZhbGlkJ1xuICAgICAgICAgICAgICAgIDogJyc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YWxpZGF0ZUdpZnQoKSB7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5naWZ0T3V0cHV0LmZpbHRlcigoZ2lmdCkgPT4gZ2lmdC5jaG9pY2UgPT09IHRydWUpO1xuICAgICAgICByZXR1cm4gY291bnQubGVuZ3RoID4gMiA/ICdUaGUgZmllbGQgaXMgaW52YWxpZCcgOiAnJztcbiAgICB9XG5cbiAgICBjaGFuZ2VPdXRwdXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5vdXRwdXQgPSB7XG4gICAgICAgICAgICAuLi50aGlzLm91dHB1dCxcbiAgICAgICAgICAgIFtrZXkudG9Mb3dlckNhc2UoKV06IHZhbHVlLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNoYW5nZUdpZnRPdXRwdXQoaW53YXJkczogQXJyYXk8SUdpZnRPdXRwdXQ+KSB7XG4gICAgICAgIHRoaXMuZ2lmdE91dHB1dCA9IGlud2FyZHMubWFwKChpdGVtKSA9PiAoeyAuLi5pdGVtIH0pKTtcbiAgICB9XG5cbiAgICBnZXRFcnJvclN0YXRlKCkge1xuICAgICAgICBsZXQgZXJyID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLm91dHB1dCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hlY2sgPSB0aGlzLnZhbGlkYXRlKGtleXNbaV0sIHRoaXMub3V0cHV0W2tleXNbaV1dKSA9PT0gJycgPyBmYWxzZSA6IHRydWU7XG4gICAgICAgICAgICBpZiAoY2hlY2spIHtcbiAgICAgICAgICAgICAgICBlcnIgPSBjaGVjaztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGdpZnQgPSB0aGlzLnZhbGlkYXRlR2lmdCgpID09PSAnJyA/IGZhbHNlIDogdHJ1ZTtcblxuICAgICAgICByZXR1cm4gIWVyciAmJiAhZ2lmdCA/IGZhbHNlIDogdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXRGaW5hbE91dHB1dChvcmRlcjogQXJyYXk8SUJvb2tPcmRlcj4sIGRhdGE6IEFycmF5PElCb29rRGF0YT4pIHtcbiAgICAgICAgY29uc3QgZmluYWxQdXJjaGFzZSA9IG9yZGVyLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmb3VuZCA9IGRhdGEuZmluZCgoZCkgPT4gZC5pZCA9PT0gaXRlbS5pZCk7XG4gICAgICAgICAgICBjb25zdCBuZXdJdGVtID0ge1xuICAgICAgICAgICAgICAgIGlkOiBmb3VuZC5pZCxcbiAgICAgICAgICAgICAgICBhdXRob3I6IGZvdW5kLmF1dGhvcixcbiAgICAgICAgICAgICAgICB0aXRsZTogZm91bmQudGl0bGUsXG4gICAgICAgICAgICAgICAgcHJpY2U6IGZvdW5kLnByaWNlLFxuICAgICAgICAgICAgICAgIHF0eTogaXRlbS5xdHksXG4gICAgICAgICAgICAgICAgcGF5bWVudDogdGhpcy5vdXRwdXQucGF5bWVudCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhY2MucHVzaChuZXdJdGVtKTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIFtdIGFzIEFycmF5PElGaW5hbFB1cmNoYXNlPik7XG5cbiAgICAgICAgY29uc3QgZ2lmdHMgPSB0aGlzLmdpZnRPdXRwdXQucmVkdWNlKChhY2MsIGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtLmNob2ljZSkge1xuICAgICAgICAgICAgICAgIGFjYy5wdXNoKGl0ZW0ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCBbXSBhcyBBcnJheTxzdHJpbmc+KTtcblxuICAgICAgICBjb25zdCBmaW5hbE9yZGVyOiBJRmluYWxPcmRlciA9IHtcbiAgICAgICAgICAgIHB1cmNoYXNlOiBbLi4uZmluYWxQdXJjaGFzZV0sXG4gICAgICAgICAgICBnaWZ0cyxcbiAgICAgICAgICAgIG91dHB1dDogeyAuLi50aGlzLm91dHB1dCB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBmaW5hbE9yZGVyO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGZvcm1GaWVsZHMgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnTmFtZScsXG4gICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ1N1cm5hbWUnLFxuICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdEZWxpdmVyeScsXG4gICAgICAgIHR5cGU6ICdkYXRlJyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ1N0cmVldCcsXG4gICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ0hvdXNlJyxcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnRmxhdCcsXG4gICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IGZvcm1QYXltZW50ID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ0Nhc2gnLFxuICAgICAgICB0eXBlOiAncmFkaW8nLFxuICAgICAgICBjaGVja2VkOiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnQ2FyZCcsXG4gICAgICAgIHR5cGU6ICdyYWRpbycsXG4gICAgICAgIGNoZWNrZWQ6IGZhbHNlLFxuICAgIH0sXG5dO1xuXG5leHBvcnQgY29uc3QgZm9ybUdpZnRzID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ1BhY2sgYXMgYSBnaWZ0JyxcbiAgICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgICAgaWQ6ICdwYWNrJyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ0FkZCBwb3N0Y2FyZCcsXG4gICAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICAgIGlkOiAncG9zdGNhcmQnLFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnUHJvdmlkZSAyJSBkaXNjb3VudCB0byB0aGUgbmV4dCB0aW1lJyxcbiAgICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgICAgaWQ6ICdkaXNjb3VudCcsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdCcmFuZGVkIHBlbiBvciBwZW5jaWwnLFxuICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgICBpZDogJ3BlbicsXG4gICAgfSxcbl07XG5cbmV4cG9ydCBjb25zdCBlcnJvcnMgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnTmFtZScsXG4gICAgICAgIGxlbmd0aDogNCxcbiAgICAgICAgaW5wdXRUeXBlOiAnc3RyaW5nJyxcbiAgICAgICAgcmVnZXg6IC9eW0EtWmEtel17NCwzMH0kL2csXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdTdXJuYW1lJyxcbiAgICAgICAgbGVuZ3RoOiA1LFxuICAgICAgICBpbnB1dFR5cGU6ICdzdHJpbmcnLFxuICAgICAgICByZWdleDogL15bQS1aYS16XXs1LDMwfSQvZyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ0RlbGl2ZXJ5JyxcbiAgICAgICAgbGVuZ3RoOiAxLFxuICAgICAgICBpbnB1dFR5cGU6ICdzdHJpbmcnLFxuICAgICAgICByZWdleDogL1xcZC8sXG4gICAgICAgIGNoZWNrOiAoKSA9PiBuZXcgRGF0ZSgpLmdldERhdGUoKSArIDEsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdTdHJlZXQnLFxuICAgICAgICBsZW5ndGg6IDUsXG4gICAgICAgIGlucHV0VHlwZTogJ3N0cmluZycsXG4gICAgICAgIHJlZ2V4OiAvXltBLVphLXowLTldezUsMzB9JC9nLFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnSG91c2UnLFxuICAgICAgICBsZW5ndGg6IG51bGwsXG4gICAgICAgIGlucHV0VHlwZTogJ251bWJlcicsXG4gICAgICAgIHJlZ2V4OiAvXlxcZCskL2csXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdGbGF0JyxcbiAgICAgICAgbGVuZ3RoOiAxLFxuICAgICAgICBpbnB1dFR5cGU6ICdzdHJpbmcnLFxuICAgICAgICByZWdleDogL15bMC05LVxcLV17MSx9JC9nLFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnUGF5bWVudCcsXG4gICAgICAgIGxlbmd0aDogbnVsbCxcbiAgICAgICAgaW5wdXRUeXBlOiAnc3RyaW5nJyxcbiAgICAgICAgcmVnZXg6IC9eKFtDYXNoXSt8W0NhcmRdKykkLyxcbiAgICB9LFxuXTtcbiIsImltcG9ydCB7IElCb29rRGF0YSwgSUJvb2tPcmRlciB9IGZyb20gJy4vdXRpbHMvaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBDaGVja291dCB9IGZyb20gJy4vY2hlY2tvdXQvY2hlY2tvdXQnO1xuaW1wb3J0IHsgSGVhZGVyIH0gZnJvbSAnLi9oZWFkZXInO1xuaW1wb3J0IHsgT3JkZXIgfSBmcm9tICcuL2Jhc2tldC9vcmRlcic7XG5pbXBvcnQgeyBDYXRhbG9nIH0gZnJvbSAnLi9jYXRhbG9nL2NhdGFsb2cnO1xuaW1wb3J0ICcuL3N0eWxlcy5jc3MnO1xuaW1wb3J0IGRhdGEgZnJvbSAnLi4vY2F0YWxvZy5qc29uJztcbmltcG9ydCBDb250cm9sIGZyb20gJy4vY29udHJvbCc7XG5pbXBvcnQgeyBlcnJvcnMsIEZvcm0sIGZvcm1GaWVsZHMsIGZvcm1HaWZ0cywgZm9ybVBheW1lbnQgfSBmcm9tICcuL3V0aWxzL2Zvcm0nO1xuXG5jbGFzcyBBcHAgZXh0ZW5kcyBDb250cm9sIHtcbiAgICBwcml2YXRlIGNhdGFsb2c6IENhdGFsb2c7XG4gICAgcHJpdmF0ZSBvcmRlcjogT3JkZXI7XG4gICAgcHJpdmF0ZSBlbnRyeURhdGE6IEFycmF5PElCb29rRGF0YT47XG4gICAgcHJpdmF0ZSBoZWFkZXI6IEhlYWRlcjtcblxuICAgIGNvbnN0cnVjdG9yKHBhcmVudE5vZGU6IEhUTUxFbGVtZW50LCBkYXRhOiBBcnJheTxJQm9va0RhdGE+KSB7XG4gICAgICAgIHN1cGVyKHBhcmVudE5vZGUsICdkaXYnLCAnbWFpbl9wYWdlJyk7XG5cbiAgICAgICAgdGhpcy5oZWFkZXIgPSBuZXcgSGVhZGVyKHRoaXMubm9kZSk7XG4gICAgICAgIHRoaXMuaGVhZGVyLnNob3dPcmRlciA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2hvd09yZGVyKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGVhZGVyLmFkZFRvQmFza2V0ID0gKGlkOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWRkVG9CYXNrZXQoaWQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGRpdmlkZXIgPSBuZXcgQ29udHJvbCh0aGlzLm5vZGUsICdocicpO1xuXG4gICAgICAgIHRoaXMuZ2V0Q2F0YWxvZyhkYXRhKTtcbiAgICAgICAgdGhpcy5lbnRyeURhdGEgPSBkYXRhO1xuICAgIH1cblxuICAgIGFzeW5jIGdldENhdGFsb2coZGF0YTogQXJyYXk8SUJvb2tEYXRhPikge1xuICAgICAgICAvLyBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnLi4vY2F0YWxvZy5qc29uJyk7XG4gICAgICAgIC8vIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpIGFzIEFycmF5PElCb29rRGF0YT47XG4gICAgICAgIHRoaXMuY2F0YWxvZyA9IG5ldyBDYXRhbG9nKHRoaXMubm9kZSwgZGF0YSk7XG4gICAgICAgIHRoaXMuY2F0YWxvZy5jaG9vc2VCb29rID0gKGlkOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWRkVG9CYXNrZXQoaWQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMub3JkZXIgPSBuZXcgT3JkZXIodGhpcy5ub2RlKTtcbiAgICAgICAgdGhpcy5vcmRlci5vbkNoYW5nZUJvb2sgPSAobnVtOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyLmNoYW5nZVF1YW50aXR5KG51bSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub3JkZXIub25Db25maXJtID0gKG9yZGVyOiBBcnJheTxJQm9va09yZGVyPikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hlY2tvdXQgPSBuZXcgQ2hlY2tvdXQodGhpcy5ub2RlLCBvcmRlciwgZGF0YSwgbmV3IEZvcm0oZm9ybUZpZWxkcywgZXJyb3JzLCBmb3JtUGF5bWVudCwgZm9ybUdpZnRzKSk7XG4gICAgICAgICAgICB0aGlzLm9yZGVyLm5vZGUub250cmFuc2l0aW9uZW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNoZWNrb3V0LnNob3coKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjaGVja291dC5vbkZpbmlzaCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9yZGVyLmNsZWFyRGF0YSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGVhZGVyLmNoYW5nZVF1YW50aXR5KDApO1xuICAgICAgICAgICAgICAgIGNoZWNrb3V0LmRlc3Ryb3lOb2RlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc2hvd09yZGVyKCkge1xuICAgICAgICB0aGlzLm9yZGVyLnNob3coKTtcbiAgICB9XG5cbiAgICBhZGRUb0Jhc2tldChpZDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGZvdW5kID0gdGhpcy5lbnRyeURhdGEuZmluZCgoYm9vaykgPT4gYm9vay5pZCA9PT0gaWQpO1xuICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgIHRoaXMub3JkZXIuYWRkQm9vayhmb3VuZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbm5ldyBBcHAoZG9jdW1lbnQuYm9keSwgZGF0YSk7XG4iXSwibmFtZXMiOlsicGFyZW50Tm9kZSIsInRhZ05hbWUiLCJjbGFzc05hbWUiLCJjb250ZW50IiwiZWwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZCIsInRoaXMiLCJub2RlIiwiZGVzdHJveSIsInJlbW92ZSIsImRhdGEiLCJvbkNsb3NlIiwiZmluYWxNZXNzYWdlIiwibWVzc2FnZSIsIm91dHB1dCIsIm5hbWUiLCJzdXJuYW1lIiwiaG91c2UiLCJzdHJlZXQiLCJmbGF0Iiwib3JkZXIiLCJ0b3RhbFByaWNlIiwicHVyY2hhc2UiLCJmb3JFYWNoIiwiaXRlbSIsImkiLCJwcmljZSIsInF0eSIsInRpdGxlIiwiYXV0aG9yIiwiZ2lmdHMiLCJnaWZ0IiwiaW5uZXJIVE1MIiwiY29udHJvbHMiLCJvbmNsaWNrIiwib25DaGFuZ2UiLCJzdGF0ZSIsImlucHV0RGF0YSIsImlucHV0IiwiaHRtbEZvciIsImlkIiwidHlwZSIsIm9uY2hhbmdlIiwiZSIsInRhcmdldCIsImNoZWNrZWQiLCJjaGFuZ2VDaGVja2VkIiwiZ2V0SW5wdXQiLCJidG5OYW1lIiwiYnRucyIsInJlcXVlc3RHaWZ0RGF0YSIsInRpdGxlQmxvY2siLCJvcGVuR2lmdHMiLCJvcGVuQ2hlY2tib3giLCJjcmVhdGVHaWZ0Q2hvaWNlcyIsImRlc3Ryb3RHaWZ0Q2hvaWNlcyIsInNldEdpZnREYXRhIiwiZ2lmdERhdGEiLCJjaGFuZ2VTdGF0ZSIsImNob2ljZSIsIm1hcCIsImNoZWNrIiwiYmxvY2siLCJJbnB1dENoZWNrYm94IiwiYnRuIiwibGFiZWwiLCJjdXJyZW50IiwiZ2V0SW5wdXROYW1lIiwiYmxvY2tCdG4iLCJyYWRpbyIsIklucHV0UmFkaW8iLCJjaGFuZ2VSYWRpb1N0YXRlIiwid3JhcHBlcklucHV0IiwiZmllbGQiLCJzZXRBdHRyaWJ1dGUiLCJvbmlucHV0IiwidmFsdWUiLCJ3cmFwcGVyRXJyb3IiLCJlcnJvciIsInNldEVycm9yIiwiZXJyIiwiZm9ybSIsImZpZWxkcyIsImZpbmlzaCIsIm9uRmluaXNoIiwid3JhcHBlciIsImZvcm1Db250YWluZXIiLCJmb3JtRmllbGRzIiwibmV3RmllbGQiLCJJbnB1dEJsb2NrIiwiY2hhbmdlT3V0cHV0IiwidmFsaWRhdGUiLCJzZXREaXNhYmxlZCIsInB1c2giLCJyYWRpb0Jsb2NrIiwiUmFkaW9CbG9jayIsImZvcm1QYXltZW50IiwiY2hlY2tCb3hCbG9jayIsIkNoZWNrYm94QmxvY2siLCJmb3JtR2lmdHMiLCJjaGFuZ2VHaWZ0T3V0cHV0IiwiZ2V0TmV3R2lmdE91dHB1dCIsImRlc3Ryb3lOb2RlIiwiY29uZmlybUJ0biIsIkNoZWNrb3V0RmluaXNoIiwiZ2V0RmluYWxPdXRwdXQiLCJzaG93IiwiY2xhc3NMaXN0IiwiYWRkIiwiaGlkZSIsIm9udHJhbnNpdGlvbmVuZCIsImdldEVycm9yU3RhdGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjbGVhckdpZnRPdXRwdXQiLCJxdWFudGl0eSIsInF1YW50aXR5Tm9kZSIsIm9uQ2xpY2siLCJvbmRyYWdvdmVyIiwicHJldmVudERlZmF1bHQiLCJkYXRhVHJhbnNmZXIiLCJkcm9wRWZmZWN0Iiwib25kcm9wIiwiSlNPTiIsInBhcnNlIiwiZ2V0RGF0YSIsImFkZEJ5RHJhZyIsIm9uZHJhZ2xlYXZlIiwiY2hhbmdlUXVhbnRpdHkiLCJudW0iLCJzaG93T3JkZXIiLCJhZGRUb0Jhc2tldCIsImJhc2tldCIsIkJhc2tldCIsImF1dGhvckJsb2NrIiwicHJpY2VCbG9jayIsIm9uRGVjcmVhc2UiLCJvbkluY3JlYXNlIiwib25SZW1vdmUiLCJxdHlCdG5zIiwic2V0UXVhbnRpdHkiLCJvbkNoYW5nZUJvb2siLCJib29rRGF0YSIsImJvb2tJbWFnZSIsImRyYWdnYWJsZSIsImNvbnRhaW5lciIsImJvb2tEZXNjIiwiQm9va0Rlc2MiLCJCb29rQ29udHJvbCIsImluY3JlYXNlQm9vayIsImRlY3JlYXNlQm9vayIsImdldElkIiwiZ2V0UXVhbnRpdHkiLCJnZXRQcmljZSIsImNsZWFyRGF0YSIsIm9yZGVyQm9va3MiLCJvbkNvbmZpcm0iLCJvcmRlckNvbnRhaW5lciIsInRvdGFsQ29udGFpbmVyIiwidG90YWwiLCJjb25maXJtIiwicGF5bG9hZCIsInJlZHVjZSIsImFjYyIsImJvb2siLCJhZGRFbXB0eSIsInNldFRvdGFsIiwiYWRkQm9vayIsInJlbW92ZUVtcHR5IiwiZm91bmQiLCJmaW5kIiwib3JkZXJCb29rIiwiT3JkZXJCb29rIiwiZ2V0Qm9va1F1YW50aXR5IiwicmVtb3ZlQm9vayIsInN0ciIsImVtcHR5IiwiZGlzYWJsZWQiLCJmaWx0ZXIiLCJsZW5ndGgiLCJkZXNjIiwic3RvcFByb3BhZ2F0aW9uIiwiY2hvb3NlQm9vayIsInNob3dEZXNjIiwiY3JlYXRlRGVzYyIsImRlc2NyaXB0aW9uIiwidGV4dCIsIkRlc2NyaXB0aW9uIiwib25kcmFnc3RhcnQiLCJzZXREYXRhIiwic3RyaW5naWZ5IiwiZWZmZWN0QWxsb3dlZCIsIm9uZHJhZ2VudGVyIiwiY2F0YWxvZyIsImQiLCJCb29rIiwiZXJyb3JzIiwiZ2lmdE91dHB1dCIsImRlbGl2ZXJ5IiwicGF5bWVudCIsImNyZWF0ZUdpZnRPdXRwdXQiLCJjb25zb2xlIiwibG9nIiwiZ2V0Rm9ybUZpZWxkcyIsInRvTG93ZXJDYXNlIiwibWF0Y2giLCJyZWdleCIsImRhdGUiLCJEYXRlIiwiZ2V0RGF0ZSIsIk51bWJlciIsImlzTmFOIiwidmFsaWRhdGVHaWZ0Iiwia2V5IiwiaW53YXJkcyIsImtleXMiLCJPYmplY3QiLCJmaW5hbFB1cmNoYXNlIiwibmV3SXRlbSIsImlucHV0VHlwZSIsImhlYWRlciIsIkhlYWRlciIsImdldENhdGFsb2ciLCJlbnRyeURhdGEiLCJDYXRhbG9nIiwiT3JkZXIiLCJjaGVja291dCIsIkNoZWNrb3V0IiwiRm9ybSIsImJvZHkiXSwic291cmNlUm9vdCI6IiJ9